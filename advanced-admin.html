<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ù„ÙˆØ­Ø© ØªØ­ÙƒÙ… Variteks-AlgÃ©rie Ø§Ù„Ù…ØªÙ‚Ø¯Ù…Ø©</title>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: #f8fafc;
            color: #1a202c;
            line-height: 1.6;
        }

        /* Sidebar */
        .sidebar {
            position: fixed;
            top: 0;
            right: 0;
            width: 280px;
            height: 100vh;
            background: linear-gradient(180deg, #2d3748 0%, #1a202c 100%);
            color: white;
            z-index: 1000;
            overflow-y: auto;
            transition: transform 0.3s ease;
        }

        .sidebar-header {
            padding: 2rem 1.5rem;
            border-bottom: 1px solid rgba(255,255,255,0.1);
            text-align: center;
        }

        .logo {
            width: 60px;
            height: 60px;
            background: linear-gradient(90deg, #228B22 0%, #FFD700 50%, #DC143C 100%);
            border-radius: 15px;
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 auto 1rem;
            font-size: 24px;
            font-weight: bold;
        }

        .sidebar-title {
            font-size: 18px;
            font-weight: bold;
            margin-bottom: 0.5rem;
        }

        .sidebar-subtitle {
            font-size: 14px;
            opacity: 0.7;
        }

        .sidebar-nav {
            padding: 1rem 0;
        }

        .nav-item {
            display: flex;
            align-items: center;
            padding: 1rem 1.5rem;
            color: rgba(255,255,255,0.8);
            text-decoration: none;
            transition: all 0.3s ease;
            cursor: pointer;
            border-right: 3px solid transparent;
        }

        .nav-item:hover,
        .nav-item.active {
            background: rgba(255,255,255,0.1);
            color: white;
            border-right-color: #FFD700;
        }

        .nav-item.store-link {
            background: linear-gradient(90deg, rgba(34, 139, 34, 0.2) 0%, rgba(255, 215, 0, 0.2) 50%, rgba(220, 20, 60, 0.2) 100%);
            border-right-color: #228B22;
            margin: 0.5rem 0;
            border-radius: 8px;
        }

        .nav-item.store-link:hover {
            background: linear-gradient(90deg, rgba(34, 139, 34, 0.3) 0%, rgba(255, 215, 0, 0.3) 50%, rgba(220, 20, 60, 0.3) 100%);
            transform: translateX(-3px);
            box-shadow: 0 4px 12px rgba(34, 139, 34, 0.3);
        }

        .nav-item i {
            width: 20px;
            margin-left: 1rem;
            font-size: 16px;
        }

        .user-info {
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            padding: 1.5rem;
            border-top: 1px solid rgba(255,255,255,0.1);
            background: rgba(0,0,0,0.2);
        }

        .user-avatar {
            width: 40px;
            height: 40px;
            background: linear-gradient(90deg, #228B22 0%, #FFD700 50%, #DC143C 100%);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-bottom: 0.5rem;
            font-weight: bold;
        }

        .logout-btn {
            width: 100%;
            background: #dc2626;
            color: white;
            border: none;
            padding: 0.5rem;
            border-radius: 8px;
            cursor: pointer;
            margin-top: 1rem;
            transition: background 0.3s;
        }

        .logout-btn:hover {
            background: #b91c1c;
        }

        /* Main Content */
        .main-content {
            margin-right: 280px;
            min-height: 100vh;
            background: #f8fafc;
        }

        .top-bar {
            background: white;
            padding: 1rem 2rem;
            box-shadow: 0 1px 3px rgba(0,0,0,0.1);
            display: flex;
            justify-content: space-between;
            align-items: center;
            position: sticky;
            top: 0;
            z-index: 100;
        }

        .page-title {
            font-size: 24px;
            font-weight: bold;
            color: #1a202c;
        }

        .top-actions {
            display: flex;
            gap: 1rem;
            align-items: center;
        }

        .notification-btn {
            position: relative;
            background: #f7fafc;
            border: none;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: background 0.3s;
        }

        .notification-btn:hover {
            background: #edf2f7;
        }

        .notification-badge {
            position: absolute;
            top: -5px;
            right: -5px;
            background: #dc2626;
            color: white;
            border-radius: 50%;
            width: 20px;
            height: 20px;
            font-size: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .content-area {
            padding: 2rem;
        }

        /* Stats Cards */
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 1.5rem;
            margin-bottom: 2rem;
        }

        .stat-card {
            background: white;
            border-radius: 12px;
            padding: 1.5rem;
            box-shadow: 0 1px 3px rgba(0,0,0,0.1);
            border-left: 4px solid;
            transition: transform 0.2s, box-shadow 0.2s;
        }

        .stat-card:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(0,0,0,0.15);
        }

        .stat-card.revenue { border-left-color: #10b981; }
        .stat-card.orders { border-left-color: #3b82f6; }
        .stat-card.products { border-left-color: #f59e0b; }
        .stat-card.customers { border-left-color: #8b5cf6; }

        .stat-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1rem;
        }

        .stat-title {
            font-size: 14px;
            color: #6b7280;
            font-weight: 500;
        }

        .stat-icon {
            width: 40px;
            height: 40px;
            border-radius: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 18px;
        }

        .stat-card.revenue .stat-icon { background: #d1fae5; color: #10b981; }
        .stat-card.orders .stat-icon { background: #dbeafe; color: #3b82f6; }
        .stat-card.products .stat-icon { background: #fef3c7; color: #f59e0b; }
        .stat-card.customers .stat-icon { background: #e9d5ff; color: #8b5cf6; }

        .stat-value {
            font-size: 28px;
            font-weight: bold;
            color: #1a202c;
            margin-bottom: 0.5rem;
        }

        .stat-change {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            font-size: 14px;
        }

        .stat-change.positive { color: #10b981; }
        .stat-change.negative { color: #dc2626; }

        /* Quick Actions Cards */
        .quick-action-card {
            background: white;
            border-radius: 12px;
            padding: 1.5rem;
            box-shadow: 0 1px 3px rgba(0,0,0,0.1);
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 1rem;
            border: 1px solid #f1f5f9;
            position: relative;
            overflow: hidden;
        }

        .quick-action-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 3px;
            background: linear-gradient(90deg, #228B22 0%, #FFD700 50%, #DC143C 100%);
            transform: scaleX(0);
            transition: transform 0.3s ease;
        }

        .quick-action-card:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(0,0,0,0.15);
            border-color: #e2e8f0;
        }

        .quick-action-card:hover::before {
            transform: scaleX(1);
        }

        .quick-action-icon {
            width: 50px;
            height: 50px;
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 20px;
            flex-shrink: 0;
        }

        .store-icon {
            background: linear-gradient(135deg, #228B22, #32CD32);
            color: white;
            box-shadow: 0 4px 12px rgba(34, 139, 34, 0.3);
        }

        .product-icon {
            background: linear-gradient(135deg, #3b82f6, #60a5fa);
            color: white;
            box-shadow: 0 4px 12px rgba(59, 130, 246, 0.3);
        }

        .orders-icon {
            background: linear-gradient(135deg, #f59e0b, #fbbf24);
            color: white;
            box-shadow: 0 4px 12px rgba(245, 158, 11, 0.3);
        }

        .analytics-icon {
            background: linear-gradient(135deg, #8b5cf6, #a78bfa);
            color: white;
            box-shadow: 0 4px 12px rgba(139, 92, 246, 0.3);
        }

        .quick-action-content {
            flex: 1;
        }

        .quick-action-title {
            font-size: 16px;
            font-weight: 600;
            color: #1a202c;
            margin-bottom: 0.25rem;
        }

        .quick-action-subtitle {
            font-size: 14px;
            color: #6b7280;
        }

        .quick-action-arrow {
            color: #9ca3af;
            font-size: 16px;
            transition: all 0.3s ease;
        }

        .quick-action-card:hover .quick-action-arrow {
            color: #6b7280;
            transform: translateX(-3px);
        }

        .quick-action-card:hover .store-icon {
            transform: scale(1.1);
            box-shadow: 0 6px 16px rgba(34, 139, 34, 0.4);
        }

        .quick-action-card:hover .product-icon {
            transform: scale(1.1);
            box-shadow: 0 6px 16px rgba(59, 130, 246, 0.4);
        }

        .quick-action-card:hover .orders-icon {
            transform: scale(1.1);
            box-shadow: 0 6px 16px rgba(245, 158, 11, 0.4);
        }

        .quick-action-card:hover .analytics-icon {
            transform: scale(1.1);
            box-shadow: 0 6px 16px rgba(139, 92, 246, 0.4);
        }

        /* Store Banner */
        .store-banner {
            background: linear-gradient(135deg, #228B22 0%, #FFD700 50%, #DC143C 100%);
            border-radius: 16px;
            padding: 2rem;
            margin-bottom: 2rem;
            cursor: pointer;
            position: relative;
            overflow: hidden;
            transition: all 0.3s ease;
            box-shadow: 0 8px 32px rgba(34, 139, 34, 0.3);
        }

        .store-banner:hover {
            transform: translateY(-3px);
            box-shadow: 0 12px 40px rgba(34, 139, 34, 0.4);
        }

        .store-banner-content {
            display: flex;
            align-items: center;
            gap: 1.5rem;
            position: relative;
            z-index: 2;
        }

        .store-banner-icon {
            width: 60px;
            height: 60px;
            background: rgba(255, 255, 255, 0.2);
            border-radius: 16px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 24px;
            color: white;
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.3);
        }

        .store-banner-text {
            flex: 1;
            color: white;
        }

        .store-banner-title {
            font-size: 24px;
            font-weight: bold;
            margin-bottom: 0.5rem;
            text-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
        }

        .store-banner-subtitle {
            font-size: 16px;
            opacity: 0.9;
            text-shadow: 0 1px 2px rgba(0, 0, 0, 0.2);
        }

        .store-banner-button {
            background: rgba(255, 255, 255, 0.2);
            color: white;
            padding: 1rem 1.5rem;
            border-radius: 12px;
            display: flex;
            align-items: center;
            gap: 0.5rem;
            font-weight: 600;
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.3);
            transition: all 0.3s ease;
        }

        .store-banner:hover .store-banner-button {
            background: rgba(255, 255, 255, 0.3);
            transform: scale(1.05);
        }

        .store-banner-decoration {
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            pointer-events: none;
        }

        .decoration-circle {
            position: absolute;
            border-radius: 50%;
            background: rgba(255, 255, 255, 0.1);
        }

        .circle-1 {
            width: 100px;
            height: 100px;
            top: -50px;
            right: 10%;
            animation: float 6s ease-in-out infinite;
        }

        .circle-2 {
            width: 60px;
            height: 60px;
            bottom: -30px;
            right: 20%;
            animation: float 4s ease-in-out infinite reverse;
        }

        .circle-3 {
            width: 80px;
            height: 80px;
            top: 20%;
            left: -40px;
            animation: float 5s ease-in-out infinite;
        }

        @keyframes float {
            0%, 100% { transform: translateY(0px); }
            50% { transform: translateY(-10px); }
        }

        /* Charts Section */
        .charts-section {
            display: grid;
            grid-template-columns: 2fr 1fr;
            gap: 2rem;
            margin-bottom: 2rem;
        }

        .chart-card {
            background: white;
            border-radius: 12px;
            padding: 1.5rem;
            box-shadow: 0 1px 3px rgba(0,0,0,0.1);
        }

        .chart-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1.5rem;
        }

        .chart-title {
            font-size: 18px;
            font-weight: bold;
            color: #1a202c;
        }

        .chart-period {
            background: #f7fafc;
            border: none;
            padding: 0.5rem 1rem;
            border-radius: 8px;
            font-size: 14px;
            cursor: pointer;
        }

        .chart-container {
            height: 300px;
            position: relative;
        }

        /* Tables */
        .table-card {
            background: white;
            border-radius: 12px;
            box-shadow: 0 1px 3px rgba(0,0,0,0.1);
            overflow: hidden;
        }

        .table-header {
            padding: 1.5rem;
            border-bottom: 1px solid #e5e7eb;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .table-title {
            font-size: 18px;
            font-weight: bold;
            color: #1a202c;
        }

        .table-actions {
            display: flex;
            gap: 1rem;
        }

        .btn {
            padding: 0.5rem 1rem;
            border-radius: 8px;
            border: none;
            cursor: pointer;
            font-weight: 500;
            transition: all 0.2s;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .btn-primary {
            background: linear-gradient(90deg, #228B22 0%, #FFD700 50%, #DC143C 100%);
            color: white;
        }

        .btn-secondary {
            background: #f7fafc;
            color: #4a5568;
            border: 1px solid #e2e8f0;
        }

        .btn:hover {
            transform: translateY(-1px);
            box-shadow: 0 2px 8px rgba(0,0,0,0.15);
        }

        .data-table {
            width: 100%;
            border-collapse: collapse;
        }

        .data-table th {
            background: #f7fafc;
            padding: 1rem;
            text-align: right;
            font-weight: 600;
            color: #4a5568;
            border-bottom: 1px solid #e2e8f0;
        }

        .data-table td {
            padding: 1rem;
            border-bottom: 1px solid #f1f5f9;
        }

        .data-table tr:hover {
            background: #f8fafc;
        }

        .status-badge {
            padding: 0.25rem 0.75rem;
            border-radius: 12px;
            font-size: 12px;
            font-weight: 500;
        }

        .status-completed { background: #d1fae5; color: #065f46; }
        .status-pending { background: #fef3c7; color: #92400e; }
        .status-cancelled { background: #fee2e2; color: #991b1b; }
        .status-processing { background: #dbeafe; color: #1e40af; }

        /* Modal */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.5);
            z-index: 2000;
            align-items: center;
            justify-content: center;
        }

        .modal.show {
            display: flex;
        }

        .modal-content {
            background: white;
            border-radius: 12px;
            padding: 2rem;
            max-width: 500px;
            width: 90%;
            max-height: 80vh;
            overflow-y: auto;
        }

        .modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1.5rem;
        }

        .modal-title {
            font-size: 20px;
            font-weight: bold;
            color: #1a202c;
        }

        .close-btn {
            background: none;
            border: none;
            font-size: 24px;
            cursor: pointer;
            color: #6b7280;
        }

        .form-group {
            margin-bottom: 1rem;
        }

        .form-label {
            display: block;
            margin-bottom: 0.5rem;
            font-weight: 500;
            color: #374151;
        }

        .form-input,
        .form-select,
        .form-textarea {
            width: 100%;
            padding: 0.75rem;
            border: 1px solid #d1d5db;
            border-radius: 8px;
            font-size: 14px;
            transition: border-color 0.2s;
        }

        .form-input:focus,
        .form-select:focus,
        .form-textarea:focus {
            outline: none;
            border-color: #3b82f6;
            box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1);
        }

        .form-textarea {
            resize: vertical;
            min-height: 80px;
        }

        .form-checkbox {
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        /* Advanced Table Styles */
        .table-container {
            overflow-x: auto;
            border-radius: 12px;
            border: 1px solid #e5e7eb;
        }

        .advanced-table {
            width: 100%;
            border-collapse: collapse;
        }

        .advanced-table th {
            background: #f8fafc;
            padding: 1rem;
            text-align: right;
            font-weight: 600;
            color: #374151;
            border-bottom: 2px solid #e5e7eb;
            position: relative;
        }

        .advanced-table th.sortable {
            cursor: pointer;
            user-select: none;
            transition: background 0.2s;
        }

        .advanced-table th.sortable:hover {
            background: #f1f5f9;
        }

        .advanced-table th.sortable i {
            margin-right: 0.5rem;
            opacity: 0.5;
            transition: opacity 0.2s;
        }

        .advanced-table th.sortable:hover i {
            opacity: 1;
        }

        .advanced-table td {
            padding: 1rem;
            border-bottom: 1px solid #f3f4f6;
            vertical-align: middle;
        }

        .advanced-table tr:hover {
            background: #f9fafb;
        }

        .advanced-table tr.selected {
            background: #eff6ff;
        }

        /* Search and Filter */
        .search-box {
            position: relative;
            display: inline-block;
            margin-left: 1rem;
        }

        .search-box i {
            position: absolute;
            right: 12px;
            top: 50%;
            transform: translateY(-50%);
            color: #6b7280;
        }

        .search-box input {
            padding: 0.5rem 2.5rem 0.5rem 1rem;
            border: 1px solid #d1d5db;
            border-radius: 8px;
            width: 250px;
            font-size: 14px;
        }

        .filter-select {
            padding: 0.5rem 1rem;
            border: 1px solid #d1d5db;
            border-radius: 8px;
            margin-left: 1rem;
            font-size: 14px;
            background: white;
        }

        /* Bulk Actions */
        .bulk-actions {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 1rem;
            background: #f8fafc;
            border-top: 1px solid #e5e7eb;
            border-radius: 0 0 12px 12px;
        }

        .bulk-info {
            font-weight: 500;
            color: #374151;
        }

        .bulk-buttons {
            display: flex;
            gap: 0.5rem;
        }

        .bulk-buttons .btn {
            padding: 0.5rem 1rem;
            font-size: 14px;
        }

        /* Pagination */
        .pagination {
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 0.5rem;
            padding: 1rem;
            border-top: 1px solid #e5e7eb;
        }

        .pagination button {
            padding: 0.5rem 1rem;
            border: 1px solid #d1d5db;
            background: white;
            border-radius: 6px;
            cursor: pointer;
            transition: all 0.2s;
        }

        .pagination button:hover {
            background: #f3f4f6;
        }

        .pagination button.active {
            background: linear-gradient(90deg, #228B22 0%, #FFD700 50%, #DC143C 100%);
            color: white;
            border-color: transparent;
        }

        .pagination button:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }

        /* Product Image in Table */
        .product-table-image {
            width: 50px;
            height: 50px;
            object-fit: cover;
            border-radius: 8px;
            border: 2px solid #f3f4f6;
        }

        /* Status Badges */
        .status-badge {
            padding: 0.25rem 0.75rem;
            border-radius: 12px;
            font-size: 12px;
            font-weight: 500;
            text-align: center;
            display: inline-block;
        }

        .status-active {
            background: #d1fae5;
            color: #065f46;
        }

        .status-inactive {
            background: #fee2e2;
            color: #991b1b;
        }

        .status-featured {
            background: #fef3c7;
            color: #92400e;
        }

        .stock-low {
            color: #dc2626;
            font-weight: 600;
        }

        .stock-normal {
            color: #059669;
            font-weight: 600;
        }

        /* Products Grid */
        .products-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 1.5rem;
            padding: 1rem;
        }

        .product-card-admin {
            background: white;
            border-radius: 12px;
            border: 1px solid #e5e7eb;
            overflow: hidden;
            transition: all 0.3s ease;
            position: relative;
        }

        .product-card-admin:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(0,0,0,0.1);
        }

        .product-image-admin {
            width: 100%;
            height: 200px;
            object-fit: cover;
            background: #f8fafc;
        }

        .product-info-admin {
            padding: 1rem;
        }

        .product-name-admin {
            font-size: 16px;
            font-weight: 600;
            color: #1f2937;
            margin-bottom: 0.5rem;
            line-height: 1.4;
        }

        .product-description-admin {
            font-size: 14px;
            color: #6b7280;
            margin-bottom: 0.75rem;
            line-height: 1.4;
            display: -webkit-box;
            -webkit-line-clamp: 2;
            -webkit-box-orient: vertical;
            overflow: hidden;
        }

        .product-details-admin {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 0.75rem;
        }

        .product-price-admin {
            font-size: 18px;
            font-weight: 700;
            color: #059669;
        }

        .product-category-admin {
            background: #e0f2fe;
            color: #0277bd;
            padding: 0.25rem 0.5rem;
            border-radius: 6px;
            font-size: 12px;
            font-weight: 500;
        }

        .product-stock-admin {
            font-size: 14px;
            font-weight: 600;
            margin-bottom: 1rem;
        }

        .product-stock-admin.low {
            color: #dc2626;
        }

        .product-stock-admin.normal {
            color: #059669;
        }

        .product-actions-admin {
            display: flex;
            gap: 0.5rem;
        }

        .product-actions-admin .btn {
            flex: 1;
            padding: 0.5rem;
            font-size: 14px;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 0.25rem;
        }

        .featured-badge-admin {
            position: absolute;
            top: 0.5rem;
            right: 0.5rem;
            background: linear-gradient(135deg, #fbbf24, #f59e0b);
            color: white;
            padding: 0.25rem 0.5rem;
            border-radius: 6px;
            font-size: 12px;
            font-weight: 600;
            display: flex;
            align-items: center;
            gap: 0.25rem;
        }

        .empty-products {
            text-align: center;
            padding: 3rem;
            color: #6b7280;
        }

        .empty-products i {
            font-size: 4rem;
            margin-bottom: 1rem;
            opacity: 0.3;
        }

        .empty-products h3 {
            font-size: 1.5rem;
            margin-bottom: 0.5rem;
            color: #374151;
        }

        .empty-products p {
            margin-bottom: 1.5rem;
        }

        /* File Upload Styles */
        .file-upload-container {
            position: relative;
        }

        .file-input {
            display: none;
        }

        .file-upload-label {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            padding: 2rem;
            border: 2px dashed #d1d5db;
            border-radius: 12px;
            background: #f9fafb;
            cursor: pointer;
            transition: all 0.3s ease;
            text-align: center;
        }

        .file-upload-label:hover {
            border-color: #3b82f6;
            background: #eff6ff;
        }

        .file-upload-label i {
            font-size: 2rem;
            color: #6b7280;
            margin-bottom: 0.5rem;
        }

        .file-upload-label:hover i {
            color: #3b82f6;
        }

        .file-upload-label span {
            color: #374151;
            font-weight: 500;
        }

        .image-preview {
            position: relative;
            margin-top: 1rem;
            border-radius: 12px;
            overflow: hidden;
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
        }

        .image-preview img {
            width: 100%;
            height: 200px;
            object-fit: cover;
            display: block;
        }

        .remove-image-btn {
            position: absolute;
            top: 0.5rem;
            right: 0.5rem;
            background: rgba(220, 38, 38, 0.9);
            color: white;
            border: none;
            width: 30px;
            height: 30px;
            border-radius: 50%;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 14px;
            transition: background 0.3s;
        }

        .remove-image-btn:hover {
            background: rgba(220, 38, 38, 1);
        }

        .upload-progress {
            margin-top: 0.5rem;
            background: #f3f4f6;
            border-radius: 8px;
            overflow: hidden;
            height: 8px;
        }

        .upload-progress-bar {
            height: 100%;
            background: linear-gradient(90deg, #228B22 0%, #FFD700 50%, #DC143C 100%);
            transition: width 0.3s ease;
            width: 0%;
        }

        /* Responsive */
        @media (max-width: 768px) {
            .sidebar {
                transform: translateX(100%);
            }

            .sidebar.open {
                transform: translateX(0);
            }

            .main-content {
                margin-right: 0;
            }

            .charts-section {
                grid-template-columns: 1fr;
            }

            .stats-grid {
                grid-template-columns: 1fr;
            }
        }

        .hidden {
            display: none !important;
        }
    </style>
</head>
<body>
    <!-- Sidebar -->
    <div class="sidebar" id="sidebar">
        <div class="sidebar-header">
            <div class="logo">V</div>
            <div class="sidebar-title">Variteks-AlgÃ©rie</div>
            <div class="sidebar-subtitle">Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ… Ø§Ù„Ù…ØªÙ‚Ø¯Ù…Ø©</div>
            <div id="networkInfo" style="margin-top: 0.5rem; padding: 0.5rem; background: rgba(255,255,255,0.1); border-radius: 8px; font-size: 11px; text-align: center;">
                <div id="serverAddress">ğŸŒ Ø¬Ø§Ø±ÙŠ ØªØ­Ø¯ÙŠØ¯ Ø§Ù„Ø¹Ù†ÙˆØ§Ù†...</div>
            </div>
            <div id="storeConnectionStatus" style="margin-top: 0.5rem; padding: 0.5rem; background: rgba(255,255,255,0.1); border-radius: 8px; font-size: 12px; text-align: center;">
                <i class="fas fa-circle" style="color: #ffc107;"></i> ÙØ­Øµ Ø§Ù„Ø§ØªØµØ§Ù„...
            </div>
        </div>

        <nav class="sidebar-nav">
            <a href="#" class="nav-item active" data-page="dashboard">
                <i class="fas fa-chart-line"></i>
                <span>Ù„ÙˆØ­Ø© Ø§Ù„Ù…Ø¹Ù„ÙˆÙ…Ø§Øª</span>
            </a>
            <a href="#" class="nav-item store-link" onclick="openStore(); return false;">
                <i class="fas fa-store"></i>
                <span>Ø¹Ø±Ø¶ Ø§Ù„Ù…ØªØ¬Ø±</span>
                <i class="fas fa-external-link-alt" style="margin-right: auto; font-size: 12px; opacity: 0.7;"></i>
            </a>
            <a href="#" class="nav-item" onclick="forceSyncStore(); return false;" style="background: rgba(23, 162, 184, 0.2); border-right-color: #17a2b8;">
                <i class="fas fa-sync-alt"></i>
                <span>Ù…Ø²Ø§Ù…Ù†Ø© ÙÙˆØ±ÙŠØ©</span>
                <i class="fas fa-bolt" style="margin-right: auto; font-size: 12px; opacity: 0.7;"></i>
            </a>
            <a href="#" class="nav-item" data-page="products">
                <i class="fas fa-box"></i>
                <span>Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª</span>
                <span id="productsCount" style="margin-right: auto; background: #17a2b8; color: white; padding: 0.2rem 0.5rem; border-radius: 10px; font-size: 11px;">0</span>
            </a>
            <a href="#" class="nav-item" data-page="orders">
                <i class="fas fa-shopping-cart"></i>
                <span>Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø·Ù„Ø¨Ø§Øª</span>
            </a>
            <a href="#" class="nav-item" data-page="customers">
                <i class="fas fa-users"></i>
                <span>Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø¹Ù…Ù„Ø§Ø¡</span>
            </a>
            <a href="#" class="nav-item" data-page="analytics">
                <i class="fas fa-chart-bar"></i>
                <span>Ø§Ù„ØªØ­Ù„ÙŠÙ„Ø§Øª ÙˆØ§Ù„ØªÙ‚Ø§Ø±ÙŠØ±</span>
            </a>
            <a href="#" class="nav-item" data-page="inventory">
                <i class="fas fa-warehouse"></i>
                <span>Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù…Ø®Ø²ÙˆÙ†</span>
            </a>
            <a href="#" class="nav-item" data-page="store-design">
                <i class="fas fa-paint-brush"></i>
                <span>ØªØµÙ…ÙŠÙ… Ø§Ù„Ù…ØªØ¬Ø±</span>
            </a>
            <a href="#" class="nav-item" data-page="settings">
                <i class="fas fa-cog"></i>
                <span>Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª</span>
            </a>
        </nav>

        <div class="user-info">
            <div class="user-avatar" id="userAvatar">A</div>
            <div style="font-weight: 500;" id="userName">Ù…Ø¯ÙŠØ± Ø§Ù„Ù†Ø¸Ø§Ù…</div>
            <div style="font-size: 12px; opacity: 0.7;" id="userRole">ØµÙ„Ø§Ø­ÙŠØ§Øª ÙƒØ§Ù…Ù„Ø©</div>
            <button class="logout-btn" onclick="logout()">
                <i class="fas fa-sign-out-alt"></i> ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø®Ø±ÙˆØ¬
            </button>
        </div>
    </div>

    <!-- Main Content -->
    <div class="main-content">
        <!-- Top Bar -->
        <div class="top-bar">
            <div class="page-title" id="pageTitle">Ù„ÙˆØ­Ø© Ø§Ù„Ù…Ø¹Ù„ÙˆÙ…Ø§Øª</div>
            <div class="top-actions">
                <button class="notification-btn">
                    <i class="fas fa-bell"></i>
                    <span class="notification-badge">3</span>
                </button>
                <button class="btn btn-primary" onclick="openStore()">
                    <i class="fas fa-external-link-alt"></i>
                    Ø¹Ø±Ø¶ Ø§Ù„Ù…ØªØ¬Ø±
                </button>
            </div>
        </div>

        <!-- Content Area -->
        <div class="content-area">
            <!-- Dashboard Page -->
            <div id="dashboardPage" class="page-content">
                <!-- Store Link Banner -->
                <div class="store-banner" onclick="openStore()">
                    <div class="store-banner-content">
                        <div class="store-banner-icon">
                            <i class="fas fa-store"></i>
                        </div>
                        <div class="store-banner-text">
                            <div class="store-banner-title">Ù…ØªØ¬Ø± Variteks-AlgÃ©rie</div>
                            <div class="store-banner-subtitle">Ø§Ø¶ØºØ· Ù‡Ù†Ø§ Ù„Ø¹Ø±Ø¶ Ø§Ù„Ù…ØªØ¬Ø± Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ ÙˆØ§Ù„ØªØ³ÙˆÙ‚</div>
                        </div>
                        <div class="store-banner-button">
                            <i class="fas fa-external-link-alt"></i>
                            <span>Ø¹Ø±Ø¶ Ø§Ù„Ù…ØªØ¬Ø±</span>
                        </div>
                    </div>
                    <div class="store-banner-decoration">
                        <div class="decoration-circle circle-1"></div>
                        <div class="decoration-circle circle-2"></div>
                        <div class="decoration-circle circle-3"></div>
                    </div>
                </div>
                <!-- Stats Cards -->
                <div class="stats-grid">
                    <div class="stat-card revenue">
                        <div class="stat-header">
                            <div class="stat-title">Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ø¥ÙŠØ±Ø§Ø¯Ø§Øª</div>
                            <div class="stat-icon">
                                <i class="fas fa-dollar-sign"></i>
                            </div>
                        </div>
                        <div class="stat-value" id="totalRevenue">0 Ø¯Ø¬</div>
                        <div class="stat-change positive">
                            <i class="fas fa-arrow-up"></i>
                            <span>+12.5% Ù…Ù† Ø§Ù„Ø´Ù‡Ø± Ø§Ù„Ù…Ø§Ø¶ÙŠ</span>
                        </div>
                    </div>

                    <div class="stat-card orders">
                        <div class="stat-header">
                            <div class="stat-title">Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ø·Ù„Ø¨Ø§Øª</div>
                            <div class="stat-icon">
                                <i class="fas fa-shopping-cart"></i>
                            </div>
                        </div>
                        <div class="stat-value" id="totalOrders">0</div>
                        <div class="stat-change positive">
                            <i class="fas fa-arrow-up"></i>
                            <span>+8.2% Ù…Ù† Ø§Ù„Ø´Ù‡Ø± Ø§Ù„Ù…Ø§Ø¶ÙŠ</span>
                        </div>
                    </div>

                    <div class="stat-card products">
                        <div class="stat-header">
                            <div class="stat-title">Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª</div>
                            <div class="stat-icon">
                                <i class="fas fa-box"></i>
                            </div>
                        </div>
                        <div class="stat-value" id="totalProducts">0</div>
                        <div class="stat-change" id="lowStockWarning">
                            <i class="fas fa-exclamation-triangle"></i>
                            <span>0 Ù…Ø®Ø²ÙˆÙ† Ù…Ù†Ø®ÙØ¶</span>
                        </div>
                    </div>

                    <div class="stat-card customers">
                        <div class="stat-header">
                            <div class="stat-title">Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ø¹Ù…Ù„Ø§Ø¡</div>
                            <div class="stat-icon">
                                <i class="fas fa-users"></i>
                            </div>
                        </div>
                        <div class="stat-value" id="totalCustomers">1,234</div>
                        <div class="stat-change positive">
                            <i class="fas fa-arrow-up"></i>
                            <span>+5.1% Ù…Ù† Ø§Ù„Ø´Ù‡Ø± Ø§Ù„Ù…Ø§Ø¶ÙŠ</span>
                        </div>
                    </div>
                </div>

                <!-- Charts Section -->
                <div class="charts-section">
                    <div class="chart-card">
                        <div class="chart-header">
                            <div class="chart-title">Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª Ø§Ù„Ù…Ø¨ÙŠØ¹Ø§Øª</div>
                            <select class="chart-period">
                                <option>Ø¢Ø®Ø± 7 Ø£ÙŠØ§Ù…</option>
                                <option>Ø¢Ø®Ø± 30 ÙŠÙˆÙ…</option>
                                <option>Ø¢Ø®Ø± 3 Ø£Ø´Ù‡Ø±</option>
                            </select>
                        </div>
                        <div class="chart-container">
                            <canvas id="salesChart"></canvas>
                        </div>
                    </div>

                    <div class="chart-card">
                        <div class="chart-header">
                            <div class="chart-title">ØªÙˆØ²ÙŠØ¹ Ø§Ù„ÙØ¦Ø§Øª</div>
                        </div>
                        <div class="chart-container">
                            <canvas id="categoryChart"></canvas>
                        </div>
                    </div>
                </div>

                <!-- Quick Actions -->
                <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 1.5rem; margin-bottom: 2rem;">
                    <div class="quick-action-card" onclick="openStore()">
                        <div class="quick-action-icon store-icon">
                            <i class="fas fa-store"></i>
                        </div>
                        <div class="quick-action-content">
                            <div class="quick-action-title">Ø¹Ø±Ø¶ Ø§Ù„Ù…ØªØ¬Ø±</div>
                            <div class="quick-action-subtitle">ØªØµÙØ­ Ø§Ù„Ù…ØªØ¬Ø± Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ</div>
                        </div>
                        <div class="quick-action-arrow">
                            <i class="fas fa-external-link-alt"></i>
                        </div>
                    </div>

                    <div class="quick-action-card" onclick="showAddProductModal()">
                        <div class="quick-action-icon product-icon">
                            <i class="fas fa-plus-circle"></i>
                        </div>
                        <div class="quick-action-content">
                            <div class="quick-action-title">Ø¥Ø¶Ø§ÙØ© Ù…Ù†ØªØ¬</div>
                            <div class="quick-action-subtitle">Ø£Ø¶Ù Ù…Ù†ØªØ¬ Ø¬Ø¯ÙŠØ¯ Ù„Ù„Ù…ØªØ¬Ø±</div>
                        </div>
                        <div class="quick-action-arrow">
                            <i class="fas fa-arrow-left"></i>
                        </div>
                    </div>

                    <div class="quick-action-card" onclick="showPage('orders')">
                        <div class="quick-action-icon orders-icon">
                            <i class="fas fa-shopping-cart"></i>
                        </div>
                        <div class="quick-action-content">
                            <div class="quick-action-title">Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø·Ù„Ø¨Ø§Øª</div>
                            <div class="quick-action-subtitle">Ø±Ø§Ø¬Ø¹ ÙˆØ£Ø¯Ø± Ø§Ù„Ø·Ù„Ø¨Ø§Øª</div>
                        </div>
                        <div class="quick-action-arrow">
                            <i class="fas fa-arrow-left"></i>
                        </div>
                    </div>

                    <div class="quick-action-card" onclick="showPage('analytics')">
                        <div class="quick-action-icon analytics-icon">
                            <i class="fas fa-chart-line"></i>
                        </div>
                        <div class="quick-action-content">
                            <div class="quick-action-title">Ø§Ù„ØªØ­Ù„ÙŠÙ„Ø§Øª</div>
                            <div class="quick-action-subtitle">Ø¹Ø±Ø¶ Ø§Ù„ØªÙ‚Ø§Ø±ÙŠØ± ÙˆØ§Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª</div>
                        </div>
                        <div class="quick-action-arrow">
                            <i class="fas fa-arrow-left"></i>
                        </div>
                    </div>
                </div>

                <!-- Recent Orders Table -->
                <div class="table-card">
                    <div class="table-header">
                        <div class="table-title">Ø§Ù„Ø·Ù„Ø¨Ø§Øª Ø§Ù„Ø£Ø®ÙŠØ±Ø©</div>
                        <div class="table-actions">
                            <button class="btn btn-secondary">
                                <i class="fas fa-download"></i>
                                ØªØµØ¯ÙŠØ±
                            </button>
                            <button class="btn btn-primary">
                                <i class="fas fa-plus"></i>
                                Ø·Ù„Ø¨ Ø¬Ø¯ÙŠØ¯
                            </button>
                        </div>
                    </div>
                    <table class="data-table">
                        <thead>
                            <tr>
                                <th>Ø±Ù‚Ù… Ø§Ù„Ø·Ù„Ø¨</th>
                                <th>Ø§Ù„Ø¹Ù…ÙŠÙ„</th>
                                <th>Ø§Ù„Ù…Ø¨Ù„Øº</th>
                                <th>Ø§Ù„Ø­Ø§Ù„Ø©</th>
                                <th>Ø§Ù„ØªØ§Ø±ÙŠØ®</th>
                                <th>Ø§Ù„Ø¥Ø¬Ø±Ø§Ø¡Ø§Øª</th>
                            </tr>
                        </thead>
                        <tbody id="ordersTableBody">
                            <!-- Ø³ÙŠØªÙ… Ù…Ù„Ø¤Ù‡Ø§ Ø¨Ù€ JavaScript -->
                        </tbody>
                    </table>
                </div>
            </div>

            <!-- Products Page -->
            <div id="productsPage" class="page-content hidden">
                <div class="table-card">
                    <div class="table-header">
                        <div class="table-title">
                            <i class="fas fa-boxes"></i>
                            Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª
                        </div>
                        <div class="table-actions">
                            <button class="btn btn-primary" onclick="showAddProductModal()">
                                <i class="fas fa-plus"></i>
                                Ø¥Ø¶Ø§ÙØ© Ù…Ù†ØªØ¬ Ø¬Ø¯ÙŠØ¯
                            </button>
                        </div>
                    </div>

                    <div class="products-grid" id="productsGrid">
                        <!-- Ø³ÙŠØªÙ… Ù…Ù„Ø¤Ù‡Ø§ Ø¨Ù€ JavaScript -->
                    </div>
                </div>
            </div>

            <!-- Orders Page -->
            <div id="ordersPage" class="page-content hidden">
                <div class="table-card">
                    <div class="table-header">
                        <div class="table-title">Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø·Ù„Ø¨Ø§Øª</div>
                        <div class="table-actions">
                            <button class="btn btn-secondary">
                                <i class="fas fa-filter"></i>
                                ØªØµÙÙŠØ©
                            </button>
                            <button class="btn btn-secondary">
                                <i class="fas fa-download"></i>
                                ØªØµØ¯ÙŠØ±
                            </button>
                        </div>
                    </div>
                    <table class="data-table">
                        <thead>
                            <tr>
                                <th>Ø±Ù‚Ù… Ø§Ù„Ø·Ù„Ø¨</th>
                                <th>Ø§Ù„Ø¹Ù…ÙŠÙ„</th>
                                <th>Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª</th>
                                <th>Ø§Ù„Ù…Ø¨Ù„Øº Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠ</th>
                                <th>Ø§Ù„Ø­Ø§Ù„Ø©</th>
                                <th>ØªØ§Ø±ÙŠØ® Ø§Ù„Ø·Ù„Ø¨</th>
                                <th>Ø§Ù„Ø¥Ø¬Ø±Ø§Ø¡Ø§Øª</th>
                            </tr>
                        </thead>
                        <tbody id="allOrdersTableBody">
                            <!-- Ø³ÙŠØªÙ… Ù…Ù„Ø¤Ù‡Ø§ Ø¨Ù€ JavaScript -->
                        </tbody>
                    </table>
                </div>
            </div>

            <!-- Customers Page -->
            <div id="customersPage" class="page-content hidden">
                <div class="table-card">
                    <div class="table-header">
                        <div class="table-title">Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø¹Ù…Ù„Ø§Ø¡</div>
                        <div class="table-actions">
                            <button class="btn btn-secondary">
                                <i class="fas fa-download"></i>
                                ØªØµØ¯ÙŠØ±
                            </button>
                            <button class="btn btn-primary">
                                <i class="fas fa-plus"></i>
                                Ø¥Ø¶Ø§ÙØ© Ø¹Ù…ÙŠÙ„
                            </button>
                        </div>
                    </div>
                    <table class="data-table">
                        <thead>
                            <tr>
                                <th>Ø§Ù„Ø§Ø³Ù…</th>
                                <th>Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ</th>
                                <th>Ø§Ù„Ù‡Ø§ØªÙ</th>
                                <th>Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ø·Ù„Ø¨Ø§Øª</th>
                                <th>Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ù…Ø´ØªØ±ÙŠØ§Øª</th>
                                <th>ØªØ§Ø±ÙŠØ® Ø§Ù„ØªØ³Ø¬ÙŠÙ„</th>
                                <th>Ø§Ù„Ø¥Ø¬Ø±Ø§Ø¡Ø§Øª</th>
                            </tr>
                        </thead>
                        <tbody id="customersTableBody">
                            <!-- Ø³ÙŠØªÙ… Ù…Ù„Ø¤Ù‡Ø§ Ø¨Ù€ JavaScript -->
                        </tbody>
                    </table>
                </div>
            </div>

            <!-- Analytics Page -->
            <div id="analyticsPage" class="page-content hidden">
                <div class="charts-section" style="grid-template-columns: 1fr 1fr;">
                    <div class="chart-card">
                        <div class="chart-header">
                            <div class="chart-title">Ù†Ù…Ùˆ Ø§Ù„Ù…Ø¨ÙŠØ¹Ø§Øª Ø§Ù„Ø´Ù‡Ø±ÙŠØ©</div>
                        </div>
                        <div class="chart-container">
                            <canvas id="monthlyGrowthChart"></canvas>
                        </div>
                    </div>

                    <div class="chart-card">
                        <div class="chart-header">
                            <div class="chart-title">Ø£ÙØ¶Ù„ Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª Ù…Ø¨ÙŠØ¹Ø§Ù‹</div>
                        </div>
                        <div class="chart-container">
                            <canvas id="topProductsChart"></canvas>
                        </div>
                    </div>
                </div>

                <div class="charts-section" style="grid-template-columns: 1fr 1fr;">
                    <div class="chart-card">
                        <div class="chart-header">
                            <div class="chart-title">ØªÙˆØ²ÙŠØ¹ Ø§Ù„Ø¹Ù…Ù„Ø§Ø¡ Ø­Ø³Ø¨ Ø§Ù„Ù…Ù†Ø·Ù‚Ø©</div>
                        </div>
                        <div class="chart-container">
                            <canvas id="customerLocationChart"></canvas>
                        </div>
                    </div>

                    <div class="chart-card">
                        <div class="chart-header">
                            <div class="chart-title">Ù…Ø¹Ø¯Ù„ Ø§Ù„ØªØ­ÙˆÙŠÙ„</div>
                        </div>
                        <div class="chart-container">
                            <canvas id="conversionChart"></canvas>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Store Design Page -->
            <div id="store-designPage" class="page-content hidden">
                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 2rem; margin-bottom: 2rem;">
                    <!-- Hero Section Settings -->
                    <div class="table-card">
                        <div class="table-header">
                            <div class="table-title">Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ù‚Ø³Ù… Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠ</div>
                        </div>
                        <div style="padding: 1.5rem;">
                            <div class="form-group">
                                <label class="form-label">Ø¹Ù†ÙˆØ§Ù† Ø§Ù„Ù…ØªØ¬Ø± Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠ</label>
                                <input type="text" class="form-input" id="heroTitle" value="Ù…Ø±Ø­Ø¨Ø§Ù‹ Ø¨Ùƒ ÙÙŠ Ù…ØªØ¬Ø± Variteks-AlgÃ©rie">
                            </div>
                            <div class="form-group">
                                <label class="form-label">ÙˆØµÙ Ø§Ù„Ù…ØªØ¬Ø±</label>
                                <textarea class="form-textarea" id="heroDescription" rows="3">Ø§ÙƒØªØ´Ù Ø£ÙØ¶Ù„ Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª Ø¨Ø£Ø³Ø¹Ø§Ø± Ù…Ù†Ø§ÙØ³Ø© ÙˆØ¬ÙˆØ¯Ø© Ø¹Ø§Ù„ÙŠØ©. Ù†Ø­Ù† Ù†Ù‚Ø¯Ù… Ù„Ùƒ ØªØ¬Ø±Ø¨Ø© ØªØ³ÙˆÙ‚ Ø§Ø³ØªØ«Ù†Ø§Ø¦ÙŠØ© Ù…Ø¹ Ø®Ø¯Ù…Ø© Ø¹Ù…Ù„Ø§Ø¡ Ù…ØªÙ…ÙŠØ²Ø©.</textarea>
                            </div>
                            <div class="form-group">
                                <label class="form-label">ØµÙˆØ±Ø© Ø®Ù„ÙÙŠØ© Ø§Ù„Ù‚Ø³Ù… Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠ</label>
                                <div class="file-upload-container">
                                    <input type="file" class="file-input" id="heroBackgroundFile" accept="image/*" onchange="handleHeroImageUpload(this)">
                                    <label for="heroBackgroundFile" class="file-upload-label">
                                        <i class="fas fa-cloud-upload-alt"></i>
                                        <span>Ø§Ø®ØªØ± ØµÙˆØ±Ø© Ù…Ù† Ø§Ù„Ø¬Ù‡Ø§Ø²</span>
                                    </label>
                                    <div class="image-preview" id="heroImagePreview" style="display: none;">
                                        <img id="heroPreviewImg" src="" alt="Ù…Ø¹Ø§ÙŠÙ†Ø© Ø§Ù„ØµÙˆØ±Ø©">
                                        <button type="button" class="remove-image-btn" onclick="removeHeroImage()">
                                            <i class="fas fa-times"></i>
                                        </button>
                                    </div>
                                </div>
                            </div>
                            <button class="btn btn-primary" onclick="updateHeroSection()">
                                <i class="fas fa-save"></i>
                                Ø­ÙØ¸ Ø§Ù„ØªØºÙŠÙŠØ±Ø§Øª
                            </button>
                        </div>
                    </div>

                    <!-- Store Info Settings -->
                    <div class="table-card">
                        <div class="table-header">
                            <div class="table-title">Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ù…ØªØ¬Ø±</div>
                        </div>
                        <div style="padding: 1.5rem;">
                            <div class="form-group">
                                <label class="form-label">Ø§Ø³Ù… Ø§Ù„Ù…ØªØ¬Ø±</label>
                                <input type="text" class="form-input" id="storeName" value="Variteks-AlgÃ©rie">
                            </div>
                            <div class="form-group">
                                <label class="form-label">Ø´Ø¹Ø§Ø± Ø§Ù„Ù…ØªØ¬Ø±</label>
                                <input type="text" class="form-input" id="storeLogo" value="V" maxlength="3">
                            </div>
                            <div class="form-group">
                                <label class="form-label">ÙˆØµÙ Ø§Ù„Ù…ØªØ¬Ø± Ø§Ù„Ù‚ØµÙŠØ±</label>
                                <input type="text" class="form-input" id="storeTagline" value="Ù…ØªØ¬Ø±Ùƒ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ Ø§Ù„Ù…ØªÙ…ÙŠØ²">
                            </div>
                            <div class="form-group">
                                <label class="form-label">Ø±Ù‚Ù… Ø§Ù„Ù‡Ø§ØªÙ</label>
                                <input type="tel" class="form-input" id="storePhone" value="+213 555 123 456">
                            </div>
                            <div class="form-group">
                                <label class="form-label">Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ</label>
                                <input type="email" class="form-input" id="storeEmail" value="info@variteks-algerie.com">
                            </div>
                            <button class="btn btn-primary" onclick="updateStoreInfo()">
                                <i class="fas fa-save"></i>
                                Ø­ÙØ¸ Ø§Ù„ØªØºÙŠÙŠØ±Ø§Øª
                            </button>
                        </div>
                    </div>
                </div>

                <!-- Color Theme Settings -->
                <div class="table-card" style="margin-bottom: 2rem;">
                    <div class="table-header">
                        <div class="table-title">Ø£Ù„ÙˆØ§Ù† Ø§Ù„Ù…ØªØ¬Ø±</div>
                    </div>
                    <div style="padding: 1.5rem;">
                        <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 1rem;">
                            <div class="form-group">
                                <label class="form-label">Ø§Ù„Ù„ÙˆÙ† Ø§Ù„Ø£Ø³Ø§Ø³ÙŠ</label>
                                <div style="display: flex; gap: 0.5rem; align-items: center;">
                                    <input type="color" id="primaryColor" value="#228B22" style="width: 50px; height: 40px; border: none; border-radius: 8px; cursor: pointer;">
                                    <input type="text" class="form-input" value="#228B22" readonly style="flex: 1;">
                                </div>
                            </div>
                            <div class="form-group">
                                <label class="form-label">Ø§Ù„Ù„ÙˆÙ† Ø§Ù„Ø«Ø§Ù†ÙˆÙŠ</label>
                                <div style="display: flex; gap: 0.5rem; align-items: center;">
                                    <input type="color" id="secondaryColor" value="#FFD700" style="width: 50px; height: 40px; border: none; border-radius: 8px; cursor: pointer;">
                                    <input type="text" class="form-input" value="#FFD700" readonly style="flex: 1;">
                                </div>
                            </div>
                            <div class="form-group">
                                <label class="form-label">Ù„ÙˆÙ† Ø§Ù„ØªÙ…ÙŠÙŠØ²</label>
                                <div style="display: flex; gap: 0.5rem; align-items: center;">
                                    <input type="color" id="accentColor" value="#DC143C" style="width: 50px; height: 40px; border: none; border-radius: 8px; cursor: pointer;">
                                    <input type="text" class="form-input" value="#DC143C" readonly style="flex: 1;">
                                </div>
                            </div>
                        </div>
                        <div style="margin-top: 1rem;">
                            <button class="btn btn-primary" onclick="updateStoreColors()">
                                <i class="fas fa-palette"></i>
                                ØªØ·Ø¨ÙŠÙ‚ Ø§Ù„Ø£Ù„ÙˆØ§Ù†
                            </button>
                            <button class="btn btn-secondary" onclick="resetToDefaultColors()" style="margin-right: 1rem;">
                                <i class="fas fa-undo"></i>
                                Ø§Ø³ØªØ¹Ø§Ø¯Ø© Ø§Ù„Ø£Ù„ÙˆØ§Ù† Ø§Ù„Ø§ÙØªØ±Ø§Ø¶ÙŠØ©
                            </button>
                        </div>
                    </div>
                </div>

                <!-- Footer Settings -->
                <div class="table-card">
                    <div class="table-header">
                        <div class="table-title">Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„ØªØ°ÙŠÙŠÙ„</div>
                    </div>
                    <div style="padding: 1.5rem;">
                        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 1rem;">
                            <div class="form-group">
                                <label class="form-label">Ù†Øµ Ø­Ù‚ÙˆÙ‚ Ø§Ù„Ø·Ø¨Ø¹</label>
                                <input type="text" class="form-input" id="copyrightText" value="Â© 2024 Variteks-AlgÃ©rie. Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø­Ù‚ÙˆÙ‚ Ù…Ø­ÙÙˆØ¸Ø©.">
                            </div>
                            <div class="form-group">
                                <label class="form-label">Ø§Ù„Ø¹Ù†ÙˆØ§Ù†</label>
                                <input type="text" class="form-input" id="storeAddress" value="Ø§Ù„Ø¬Ø²Ø§Ø¦Ø± Ø§Ù„Ø¹Ø§ØµÙ…Ø©ØŒ Ø§Ù„Ø¬Ø²Ø§Ø¦Ø±">
                            </div>
                        </div>
                        <div class="form-group">
                            <label class="form-label">Ø±ÙˆØ§Ø¨Ø· Ø§Ù„ØªÙˆØ§ØµÙ„ Ø§Ù„Ø§Ø¬ØªÙ…Ø§Ø¹ÙŠ</label>
                            <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 1rem;">
                                <input type="url" class="form-input" id="facebookLink" placeholder="Ø±Ø§Ø¨Ø· ÙÙŠØ³Ø¨ÙˆÙƒ">
                                <input type="url" class="form-input" id="instagramLink" placeholder="Ø±Ø§Ø¨Ø· Ø¥Ù†Ø³ØªØºØ±Ø§Ù…">
                                <input type="url" class="form-input" id="twitterLink" placeholder="Ø±Ø§Ø¨Ø· ØªÙˆÙŠØªØ±">
                                <input type="url" class="form-input" id="whatsappLink" placeholder="Ø±Ø§Ø¨Ø· ÙˆØ§ØªØ³Ø§Ø¨">
                            </div>
                        </div>
                        <button class="btn btn-primary" onclick="updateFooterSettings()">
                            <i class="fas fa-save"></i>
                            Ø­ÙØ¸ Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„ØªØ°ÙŠÙŠÙ„
                        </button>
                    </div>
                </div>
            </div>

            <!-- Settings Page -->
            <div id="settingsPage" class="page-content hidden">
                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 2rem;">
                    <div class="table-card">
                        <div class="table-header">
                            <div class="table-title">Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ù…ØªØ¬Ø±</div>
                        </div>
                        <div style="padding: 1.5rem;">
                            <div class="form-group">
                                <label class="form-label">Ø§Ø³Ù… Ø§Ù„Ù…ØªØ¬Ø±</label>
                                <input type="text" class="form-input" value="Variteks-AlgÃ©rie">
                            </div>
                            <div class="form-group">
                                <label class="form-label">ÙˆØµÙ Ø§Ù„Ù…ØªØ¬Ø±</label>
                                <textarea class="form-textarea">Ù…ØªØ¬Ø±Ùƒ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ Ø§Ù„Ù…ØªÙ…ÙŠØ²</textarea>
                            </div>
                            <div class="form-group">
                                <label class="form-label">Ø¹Ù…Ù„Ø© Ø§Ù„Ù…ØªØ¬Ø±</label>
                                <select class="form-select">
                                    <option>Ø¯ÙŠÙ†Ø§Ø± Ø¬Ø²Ø§Ø¦Ø±ÙŠ (DZD)</option>
                                    <option>Ø¯ÙˆÙ„Ø§Ø± Ø£Ù…Ø±ÙŠÙƒÙŠ (USD)</option>
                                    <option>ÙŠÙˆØ±Ùˆ (EUR)</option>
                                </select>
                            </div>
                            <button class="btn btn-primary">Ø­ÙØ¸ Ø§Ù„ØªØºÙŠÙŠØ±Ø§Øª</button>
                        </div>
                    </div>

                    <div class="table-card">
                        <div class="table-header">
                            <div class="table-title">Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ø´Ø­Ù†</div>
                        </div>
                        <div style="padding: 1.5rem;">
                            <div class="form-group">
                                <label class="form-label">ØªÙƒÙ„ÙØ© Ø§Ù„Ø´Ø­Ù† Ø§Ù„Ø§ÙØªØ±Ø§Ø¶ÙŠØ©</label>
                                <input type="number" class="form-input" value="500">
                            </div>
                            <div class="form-group">
                                <label class="form-label">Ø§Ù„Ø´Ø­Ù† Ø§Ù„Ù…Ø¬Ø§Ù†ÙŠ Ø¹Ù†Ø¯</label>
                                <input type="number" class="form-input" value="5000">
                            </div>
                            <div class="form-group">
                                <div class="form-checkbox">
                                    <input type="checkbox" checked>
                                    <label>ØªÙØ¹ÙŠÙ„ Ø§Ù„Ø´Ø­Ù† Ø§Ù„Ø³Ø±ÙŠØ¹</label>
                                </div>
                            </div>
                            <button class="btn btn-primary">Ø­ÙØ¸ Ø§Ù„ØªØºÙŠÙŠØ±Ø§Øª</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Add Product Modal -->
    <div class="modal" id="addProductModal">
        <div class="modal-content">
            <div class="modal-header">
                <div class="modal-title">Ø¥Ø¶Ø§ÙØ© Ù…Ù†ØªØ¬ Ø¬Ø¯ÙŠØ¯</div>
                <button class="close-btn" onclick="closeAddProductModal()">&times;</button>
            </div>
            <form id="addProductForm">
                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 1rem;">
                    <div class="form-group">
                        <label class="form-label">Ø§Ø³Ù… Ø§Ù„Ù…Ù†ØªØ¬ *</label>
                        <input type="text" class="form-input" id="productName" required>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Ø§Ù„Ø³Ø¹Ø± (Ø¯Ø¬) *</label>
                        <input type="number" class="form-input" id="productPrice" required>
                    </div>
                </div>

                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 1rem;">
                    <div class="form-group">
                        <label class="form-label">Ø§Ù„ÙØ¦Ø© *</label>
                        <select class="form-select" id="productCategory" required>
                            <option value="">Ø§Ø®ØªØ± Ø§Ù„ÙØ¦Ø©</option>
                            <option value="Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠØ§Øª">Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠØ§Øª</option>
                            <option value="Ù…Ù„Ø§Ø¨Ø³">Ù…Ù„Ø§Ø¨Ø³</option>
                            <option value="Ø¥ÙƒØ³Ø³ÙˆØ§Ø±Ø§Øª">Ø¥ÙƒØ³Ø³ÙˆØ§Ø±Ø§Øª</option>
                            <option value="Ù…Ù†Ø²Ù„ ÙˆØ­Ø¯ÙŠÙ‚Ø©">Ù…Ù†Ø²Ù„ ÙˆØ­Ø¯ÙŠÙ‚Ø©</option>
                            <option value="Ø±ÙŠØ§Ø¶Ø©">Ø±ÙŠØ§Ø¶Ø©</option>
                            <option value="ÙƒØªØ¨">ÙƒØªØ¨</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Ø§Ù„Ù…Ø®Ø²ÙˆÙ† *</label>
                        <input type="number" class="form-input" id="productStock" required>
                    </div>
                </div>

                <div class="form-group">
                    <label class="form-label">ØµÙˆØ±Ø© Ø§Ù„Ù…Ù†ØªØ¬</label>
                    <div class="file-upload-container">
                        <input type="file" class="file-input" id="productImageFile" accept="image/*" onchange="handleProductImageUpload(this)">
                        <label for="productImageFile" class="file-upload-label">
                            <i class="fas fa-image"></i>
                            <span>Ø§Ø®ØªØ± ØµÙˆØ±Ø© Ø§Ù„Ù…Ù†ØªØ¬</span>
                        </label>
                        <div class="image-preview" id="productImagePreview" style="display: none;">
                            <img id="productPreviewImg" src="" alt="Ù…Ø¹Ø§ÙŠÙ†Ø© Ø§Ù„Ù…Ù†ØªØ¬">
                            <button type="button" class="remove-image-btn" onclick="removeProductImage()">
                                <i class="fas fa-times"></i>
                            </button>
                        </div>
                    </div>
                </div>

                <div class="form-group">
                    <label class="form-label">ÙˆØµÙ Ø§Ù„Ù…Ù†ØªØ¬</label>
                    <textarea class="form-textarea" id="productDescription" rows="3"></textarea>
                </div>

                <div class="form-group">
                    <div class="form-checkbox">
                        <input type="checkbox" id="productFeatured">
                        <label>Ù…Ù†ØªØ¬ Ù…Ù…ÙŠØ² (ÙŠØ¸Ù‡Ø± ÙÙŠ Ø§Ù„ØµÙØ­Ø© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©)</label>
                    </div>
                </div>

                <div style="display: flex; gap: 1rem; justify-content: flex-end; margin-top: 2rem;">
                    <button type="button" class="btn btn-secondary" onclick="closeAddProductModal()">
                        Ø¥Ù„ØºØ§Ø¡
                    </button>
                    <button type="submit" class="btn btn-primary">
                        <i class="fas fa-plus"></i>
                        Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ù…Ù†ØªØ¬
                    </button>
                </div>
            </form>
        </div>
    </div>

    <!-- Edit Product Modal -->
    <div class="modal" id="editProductModal">
        <div class="modal-content">
            <div class="modal-header">
                <div class="modal-title">ØªØ¹Ø¯ÙŠÙ„ Ø§Ù„Ù…Ù†ØªØ¬</div>
                <button class="close-btn" onclick="closeEditProductModal()">&times;</button>
            </div>
            <form id="editProductForm">
                <input type="hidden" id="editProductId">
                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 1rem;">
                    <div class="form-group">
                        <label class="form-label">Ø§Ø³Ù… Ø§Ù„Ù…Ù†ØªØ¬ *</label>
                        <input type="text" class="form-input" id="editProductName" required>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Ø§Ù„Ø³Ø¹Ø± (Ø¯Ø¬) *</label>
                        <input type="number" class="form-input" id="editProductPrice" required>
                    </div>
                </div>

                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 1rem;">
                    <div class="form-group">
                        <label class="form-label">Ø§Ù„ÙØ¦Ø© *</label>
                        <select class="form-select" id="editProductCategory" required>
                            <option value="">Ø§Ø®ØªØ± Ø§Ù„ÙØ¦Ø©</option>
                            <option value="Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠØ§Øª">Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠØ§Øª</option>
                            <option value="Ù…Ù„Ø§Ø¨Ø³">Ù…Ù„Ø§Ø¨Ø³</option>
                            <option value="Ø¥ÙƒØ³Ø³ÙˆØ§Ø±Ø§Øª">Ø¥ÙƒØ³Ø³ÙˆØ§Ø±Ø§Øª</option>
                            <option value="Ù…Ù†Ø²Ù„ ÙˆØ­Ø¯ÙŠÙ‚Ø©">Ù…Ù†Ø²Ù„ ÙˆØ­Ø¯ÙŠÙ‚Ø©</option>
                            <option value="Ø±ÙŠØ§Ø¶Ø©">Ø±ÙŠØ§Ø¶Ø©</option>
                            <option value="ÙƒØªØ¨">ÙƒØªØ¨</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Ø§Ù„Ù…Ø®Ø²ÙˆÙ† *</label>
                        <input type="number" class="form-input" id="editProductStock" required>
                    </div>
                </div>

                <div class="form-group">
                    <label class="form-label">ØµÙˆØ±Ø© Ø§Ù„Ù…Ù†ØªØ¬</label>
                    <div class="file-upload-container">
                        <input type="file" class="file-input" id="editProductImageFile" accept="image/*" onchange="handleEditProductImageUpload(this)">
                        <label for="editProductImageFile" class="file-upload-label">
                            <i class="fas fa-image"></i>
                            <span>ØªØºÙŠÙŠØ± ØµÙˆØ±Ø© Ø§Ù„Ù…Ù†ØªØ¬</span>
                        </label>
                        <div class="image-preview" id="editProductImagePreview" style="display: none;">
                            <img id="editProductPreviewImg" src="" alt="Ù…Ø¹Ø§ÙŠÙ†Ø© Ø§Ù„Ù…Ù†ØªØ¬">
                            <button type="button" class="remove-image-btn" onclick="removeEditProductImage()">
                                <i class="fas fa-times"></i>
                            </button>
                        </div>
                    </div>
                </div>

                <div class="form-group">
                    <label class="form-label">ÙˆØµÙ Ø§Ù„Ù…Ù†ØªØ¬</label>
                    <textarea class="form-textarea" id="editProductDescription" rows="3"></textarea>
                </div>

                <div class="form-group">
                    <div class="form-checkbox">
                        <input type="checkbox" id="editProductFeatured">
                        <label>Ù…Ù†ØªØ¬ Ù…Ù…ÙŠØ² (ÙŠØ¸Ù‡Ø± ÙÙŠ Ø§Ù„ØµÙØ­Ø© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©)</label>
                    </div>
                </div>

                <div style="display: flex; gap: 1rem; justify-content: flex-end; margin-top: 2rem;">
                    <button type="button" class="btn btn-secondary" onclick="closeEditProductModal()">
                        Ø¥Ù„ØºØ§Ø¡
                    </button>
                    <button type="submit" class="btn btn-primary">
                        <i class="fas fa-save"></i>
                        Ø­ÙØ¸ Ø§Ù„ØªØºÙŠÙŠØ±Ø§Øª
                    </button>
                </div>
            </form>
        </div>
    </div>

    <!-- Login Modal -->
    <div class="modal show" id="loginModal">
        <div class="modal-content" style="max-width: 400px;">
            <div class="modal-header">
                <div class="modal-title">ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„</div>
            </div>
            <form id="loginForm">
                <div class="form-group">
                    <label class="form-label">Ø§Ø³Ù… Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…</label>
                    <input type="text" class="form-input" id="loginUsername" required>
                </div>
                <div class="form-group">
                    <label class="form-label">ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±</label>
                    <input type="password" class="form-input" id="loginPassword" required>
                </div>
                <div id="loginError" style="color: #dc2626; font-size: 14px; margin-bottom: 1rem; display: none;"></div>
                <button type="submit" class="btn btn-primary" style="width: 100%;">
                    <i class="fas fa-sign-in-alt"></i>
                    ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„
                </button>
            </form>

            <div style="margin-top: 2rem; padding-top: 1rem; border-top: 1px solid #e5e7eb;">
                <div style="font-size: 14px; color: #6b7280; margin-bottom: 1rem;">Ø¨ÙŠØ§Ù†Ø§Øª ØªØ¬Ø±ÙŠØ¨ÙŠØ©:</div>
                <div style="background: #f8fafc; padding: 1rem; border-radius: 8px; font-size: 12px;">
                    <div style="margin-bottom: 0.5rem;"><strong>Ù…Ø¯ÙŠØ± Ø§Ù„Ù†Ø¸Ø§Ù…:</strong> admin / admin123</div>
                    <div><strong>Ù…Ø´Ø±Ù Ø§Ù„Ù…ØªØ¬Ø±:</strong> manager / manager123</div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Ù†Ø¸Ø§Ù… Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª
        class AdminSystem {
            constructor() {
                this.currentUser = null;
                this.products = this.loadProducts();
                this.orders = this.loadOrders();
                this.customers = this.loadCustomers();
                this.currentPageName = 'dashboard';

                // Ù…ØªØºÙŠØ±Ø§Øª Ø§Ù„ØªØ­ÙƒÙ… ÙÙŠ Ø§Ù„Ø¬Ø¯ÙˆÙ„
                this.filteredProducts = [...this.products];
                this.selectedProducts = new Set();
                this.sortField = null;
                this.sortDirection = 'asc';
                this.currentPage = 1;
                this.itemsPerPage = 10;

                this.initializeCharts();
                this.updateDashboard();
                this.setupStoreConnectionMonitoring();
                this.setupNetworkInfo();
            }

            // Ø¥Ø¹Ø¯Ø§Ø¯ Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ø´Ø¨ÙƒØ©
            setupNetworkInfo() {
                const serverAddress = document.getElementById('serverAddress');
                if (serverAddress) {
                    const currentUrl = window.location;
                    const baseUrl = `${currentUrl.protocol}//${currentUrl.host}`;

                    serverAddress.innerHTML = `
                        <div style="margin-bottom: 0.25rem;">ğŸŒ ${baseUrl}</div>
                        <div style="font-size: 10px; opacity: 0.8;">Ù…ØªØ§Ø­ Ù„Ù„Ø´Ø¨ÙƒØ© Ø§Ù„Ù…Ø­Ù„ÙŠØ©</div>
                    `;
                }

                // Ø¥Ø¶Ø§ÙØ© Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø¥Ø¶Ø§ÙÙŠØ© Ù„Ù„Ø´Ø¨ÙƒØ©
                this.displayNetworkStatus();
            }

            // Ø¹Ø±Ø¶ Ø­Ø§Ù„Ø© Ø§Ù„Ø´Ø¨ÙƒØ©
            displayNetworkStatus() {
                // ÙØ­Øµ Ø§Ù„Ø§ØªØµØ§Ù„ Ø¨Ø§Ù„Ø¥Ù†ØªØ±Ù†Øª
                const checkOnlineStatus = () => {
                    const statusElement = document.getElementById('networkInfo');
                    if (statusElement && navigator.onLine !== undefined) {
                        const onlineStatus = navigator.onLine ?
                            '<span style="color: #28a745;">ğŸŸ¢ Ù…ØªØµÙ„</span>' :
                            '<span style="color: #dc3545;">ğŸ”´ ØºÙŠØ± Ù…ØªØµÙ„</span>';

                        const currentUrl = window.location;
                        const baseUrl = `${currentUrl.protocol}//${currentUrl.host}`;

                        statusElement.innerHTML = `
                            <div style="margin-bottom: 0.25rem;">ğŸŒ ${baseUrl}</div>
                            <div style="font-size: 10px; opacity: 0.8;">Ø­Ø§Ù„Ø© Ø§Ù„Ø´Ø¨ÙƒØ©: ${onlineStatus}</div>
                        `;
                    }
                };

                // ÙØ­Øµ Ø£ÙˆÙ„ÙŠ
                checkOnlineStatus();

                // Ù…Ø±Ø§Ù‚Ø¨Ø© ØªØºÙŠÙŠØ±Ø§Øª Ø§Ù„Ø§ØªØµØ§Ù„
                window.addEventListener('online', checkOnlineStatus);
                window.addEventListener('offline', checkOnlineStatus);
            }

            // Ù…Ø±Ø§Ù‚Ø¨Ø© Ø§ØªØµØ§Ù„ Ø§Ù„Ù…ØªØ¬Ø± (Ø¬Ø¯ÙŠØ¯)
            setupStoreConnectionMonitoring() {
                console.log('ğŸ”— Ø¥Ø¹Ø¯Ø§Ø¯ Ù…Ø±Ø§Ù‚Ø¨Ø© Ø§ØªØµØ§Ù„ Ø§Ù„Ù…ØªØ¬Ø±...');

                // Ù…Ø³ØªÙ…Ø¹ Ù„Ø±Ø³Ø§Ø¦Ù„ Ø§Ù„Ù…ØªØ¬Ø±
                window.addEventListener('message', (event) => {
                    if (event.data && event.data.type === 'STORE_READY') {
                        console.log('âœ… Ø§Ù„Ù…ØªØ¬Ø± Ù…ØªØµÙ„ ÙˆÙ…Ø³ØªØ¹Ø¯');
                        this.updateStoreConnectionStatus(true);
                    }
                });

                // ÙØ­Øµ Ø¯ÙˆØ±ÙŠ Ù„Ø­Ø§Ù„Ø© Ø§Ù„Ø§ØªØµØ§Ù„
                setInterval(() => {
                    this.checkStoreConnection();
                }, 3000);
            }

            // ÙØ­Øµ Ø§ØªØµØ§Ù„ Ø§Ù„Ù…ØªØ¬Ø±
            checkStoreConnection() {
                // Ù…Ø­Ø§ÙˆÙ„Ø© Ø¥Ø±Ø³Ø§Ù„ ping Ù„Ù„Ù…ØªØ¬Ø±
                try {
                    const storeWindows = window.storeWindows || [];
                    let connectedStores = 0;

                    storeWindows.forEach(storeWindow => {
                        if (storeWindow && !storeWindow.closed) {
                            connectedStores++;
                            storeWindow.postMessage({
                                type: 'ADMIN_PING',
                                timestamp: Date.now()
                            }, '*');
                        }
                    });

                    this.updateStoreConnectionStatus(connectedStores > 0);
                } catch (error) {
                    this.updateStoreConnectionStatus(false);
                }
            }

            // ØªØ­Ø¯ÙŠØ« Ø­Ø§Ù„Ø© Ø§ØªØµØ§Ù„ Ø§Ù„Ù…ØªØ¬Ø± ÙÙŠ Ø§Ù„ÙˆØ§Ø¬Ù‡Ø©
            updateStoreConnectionStatus(isConnected) {
                const statusElement = document.getElementById('storeConnectionStatus');
                if (statusElement) {
                    statusElement.innerHTML = isConnected ?
                        '<i class="fas fa-circle" style="color: #28a745;"></i> Ø§Ù„Ù…ØªØ¬Ø± Ù…ØªØµÙ„' :
                        '<i class="fas fa-circle" style="color: #dc3545;"></i> Ø§Ù„Ù…ØªØ¬Ø± ØºÙŠØ± Ù…ØªØµÙ„';
                }
            }

            // ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª
            loadProducts() {
                const saved = localStorage.getItem('variteks_products');
                if (saved) {
                    return JSON.parse(saved);
                }

                return [
                    {
                        id: 1,
                        name: "Ø¢ÙŠÙÙˆÙ† 15 Ø¨Ø±Ùˆ Ù…Ø§ÙƒØ³ 256 Ø¬ÙŠØ¬Ø§",
                        price: 429900,
                        image: "https://images.unsplash.com/photo-1592899677977-9c10ca588bbd?w=400&q=80",
                        category: "Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠØ§Øª",
                        stock: 25,
                        description: "Ø£Ø­Ø¯Ø« Ù‡ÙˆØ§ØªÙ Ø¢ÙŠÙÙˆÙ† Ø¨ØªÙ‚Ù†ÙŠØ© Ù…ØªØ·ÙˆØ±Ø© ÙˆÙƒØ§Ù…ÙŠØ±Ø§ Ø§Ø­ØªØ±Ø§ÙÙŠØ©",
                        featured: true,
                        createdAt: new Date().toISOString()
                    },
                    {
                        id: 2,
                        name: "Ù„Ø§Ø¨ØªÙˆØ¨ Dell XPS 13",
                        price: 289900,
                        image: "https://images.unsplash.com/photo-1496181133206-80ce9b88a853?w=400&q=80",
                        category: "Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠØ§Øª",
                        stock: 15,
                        description: "Ù„Ø§Ø¨ØªÙˆØ¨ Ø¹Ø§Ù„ÙŠ Ø§Ù„Ø£Ø¯Ø§Ø¡ Ù…Ø«Ø§Ù„ÙŠ Ù„Ù„Ø¹Ù…Ù„ ÙˆØ§Ù„Ø¯Ø±Ø§Ø³Ø©",
                        featured: true,
                        createdAt: new Date().toISOString()
                    },
                    {
                        id: 3,
                        name: "Ø³Ø§Ø¹Ø© Ø°ÙƒÙŠØ© Apple Watch",
                        price: 89900,
                        image: "https://images.unsplash.com/photo-1434493789847-2f02dc6ca35d?w=400&q=80",
                        category: "Ø¥ÙƒØ³Ø³ÙˆØ§Ø±Ø§Øª",
                        stock: 30,
                        description: "Ø³Ø§Ø¹Ø© Ø°ÙƒÙŠØ© Ù…ØªØ·ÙˆØ±Ø© Ù„ØªØªØ¨Ø¹ Ø§Ù„ØµØ­Ø© ÙˆØ§Ù„Ù„ÙŠØ§Ù‚Ø©",
                        featured: false,
                        createdAt: new Date().toISOString()
                    }
                ];
            }

            // ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø·Ù„Ø¨Ø§Øª
            loadOrders() {
                const saved = localStorage.getItem('variteks_orders');
                if (saved) {
                    return JSON.parse(saved);
                }

                return [
                    {
                        id: 1,
                        customer: 'Ø£Ø­Ù…Ø¯ Ù…Ø­Ù…Ø¯ Ø¹Ù„ÙŠ',
                        email: 'ahmed@example.com',
                        phone: '0555123456',
                        products: [
                            { id: 1, name: 'Ø¢ÙŠÙÙˆÙ† 15 Ø¨Ø±Ùˆ Ù…Ø§ÙƒØ³', quantity: 1, price: 429900 }
                        ],
                        total: 429900,
                        status: 'pending',
                        date: new Date(Date.now() - 86400000).toISOString(),
                        address: 'Ø§Ù„Ø¬Ø²Ø§Ø¦Ø± Ø§Ù„Ø¹Ø§ØµÙ…Ø©ØŒ Ø§Ù„Ø¬Ø²Ø§Ø¦Ø±'
                    },
                    {
                        id: 2,
                        customer: 'ÙØ§Ø·Ù…Ø© Ø§Ù„Ø²Ù‡Ø±Ø§Ø¡',
                        email: 'fatima@example.com',
                        phone: '0666789012',
                        products: [
                            { id: 2, name: 'Ù„Ø§Ø¨ØªÙˆØ¨ Dell XPS 13', quantity: 1, price: 289900 }
                        ],
                        total: 289900,
                        status: 'completed',
                        date: new Date(Date.now() - 172800000).toISOString(),
                        address: 'ÙˆÙ‡Ø±Ø§Ù†ØŒ Ø§Ù„Ø¬Ø²Ø§Ø¦Ø±'
                    },
                    {
                        id: 3,
                        customer: 'Ù…Ø­Ù…Ø¯ Ø­Ø³Ù†',
                        email: 'mohamed@example.com',
                        phone: '0777345678',
                        products: [
                            { id: 3, name: 'Ø³Ø§Ø¹Ø© Ø°ÙƒÙŠØ© Apple Watch', quantity: 1, price: 89900 }
                        ],
                        total: 89900,
                        status: 'processing',
                        date: new Date(Date.now() - 259200000).toISOString(),
                        address: 'Ù‚Ø³Ù†Ø·ÙŠÙ†Ø©ØŒ Ø§Ù„Ø¬Ø²Ø§Ø¦Ø±'
                    }
                ];
            }

            // ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø¹Ù…Ù„Ø§Ø¡
            loadCustomers() {
                return [
                    {
                        id: 1,
                        name: 'Ø£Ø­Ù…Ø¯ Ù…Ø­Ù…Ø¯ Ø¹Ù„ÙŠ',
                        email: 'ahmed@example.com',
                        phone: '0555123456',
                        totalOrders: 3,
                        totalSpent: 850000,
                        joinDate: '2024-01-15',
                        city: 'Ø§Ù„Ø¬Ø²Ø§Ø¦Ø± Ø§Ù„Ø¹Ø§ØµÙ…Ø©'
                    },
                    {
                        id: 2,
                        name: 'ÙØ§Ø·Ù…Ø© Ø§Ù„Ø²Ù‡Ø±Ø§Ø¡',
                        email: 'fatima@example.com',
                        phone: '0666789012',
                        totalOrders: 2,
                        totalSpent: 450000,
                        joinDate: '2024-02-20',
                        city: 'ÙˆÙ‡Ø±Ø§Ù†'
                    },
                    {
                        id: 3,
                        name: 'Ù…Ø­Ù…Ø¯ Ø­Ø³Ù†',
                        email: 'mohamed@example.com',
                        phone: '0777345678',
                        totalOrders: 1,
                        totalSpent: 89900,
                        joinDate: '2024-03-10',
                        city: 'Ù‚Ø³Ù†Ø·ÙŠÙ†Ø©'
                    }
                ];
            }

            // Ø­ÙØ¸ Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª
            saveProducts() {
                console.log('Ø­ÙØ¸ Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª:', this.products.length, 'Ù…Ù†ØªØ¬');
                localStorage.setItem('variteks_products', JSON.stringify(this.products));
                this.notifyStoreUpdate('products');
                console.log('ØªÙ… Ø¥Ø´Ø¹Ø§Ø± Ø§Ù„Ù…ØªØ¬Ø± Ø¨ØªØ­Ø¯ÙŠØ« Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª');
            }

            // Ø­ÙØ¸ Ø§Ù„Ø·Ù„Ø¨Ø§Øª
            saveOrders() {
                console.log('Ø­ÙØ¸ Ø§Ù„Ø·Ù„Ø¨Ø§Øª:', this.orders.length, 'Ø·Ù„Ø¨');
                localStorage.setItem('variteks_orders', JSON.stringify(this.orders));
                this.notifyStoreUpdate('orders');
                console.log('ØªÙ… Ø¥Ø´Ø¹Ø§Ø± Ø§Ù„Ù…ØªØ¬Ø± Ø¨ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø·Ù„Ø¨Ø§Øª');
            }

            // Ø­ÙØ¸ Ø§Ù„Ø¹Ù…Ù„Ø§Ø¡
            saveCustomers() {
                console.log('Ø­ÙØ¸ Ø§Ù„Ø¹Ù…Ù„Ø§Ø¡:', this.customers.length, 'Ø¹Ù…ÙŠÙ„');
                localStorage.setItem('variteks_customers', JSON.stringify(this.customers));
                this.notifyStoreUpdate('customers');
                console.log('ØªÙ… Ø¥Ø´Ø¹Ø§Ø± Ø§Ù„Ù…ØªØ¬Ø± Ø¨ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø¹Ù…Ù„Ø§Ø¡');
            }

            // Ø¥Ø´Ø¹Ø§Ø± Ø§Ù„Ù…ØªØ¬Ø± Ø¨Ø§Ù„ØªØ­Ø¯ÙŠØ« (Ù…Ø­Ø³Ù† ÙˆÙ…Ø·ÙˆØ±)
            notifyStoreUpdate(dataType = 'products') {
                console.log(`ğŸ”„ Ø¥Ø±Ø³Ø§Ù„ Ø¥Ø´Ø¹Ø§Ø± ØªØ­Ø¯ÙŠØ« ${dataType} Ù„Ù„Ù…ØªØ¬Ø±...`);

                // ØªØ­Ø¯ÙŠØ« timestamp Ù„Ù„Ù…Ø²Ø§Ù…Ù†Ø© Ø§Ù„ÙÙˆØ±ÙŠØ©
                const timestamp = Date.now().toString();
                localStorage.setItem(`variteks_${dataType}_timestamp`, timestamp);

                // ØªØ­Ø¯ÙŠØ¯ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ù†Ø§Ø³Ø¨Ø©
                let data, storageKey;
                switch(dataType) {
                    case 'products':
                        data = this.products;
                        storageKey = 'variteks_products';
                        break;
                    case 'orders':
                        data = this.orders;
                        storageKey = 'variteks_orders';
                        break;
                    case 'customers':
                        data = this.customers;
                        storageKey = 'variteks_customers';
                        break;
                    default:
                        data = this.products;
                        storageKey = 'variteks_products';
                }

                // Ø­ÙØ¸ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª ÙÙŠ localStorage Ù…Ø¹ ØªØ³Ø¬ÙŠÙ„ Ù…ÙØµÙ„
                console.log(`ğŸ’¾ Ø­ÙØ¸ ${data.length} Ø¹Ù†ØµØ± ÙÙŠ ${storageKey}`);
                localStorage.setItem(storageKey, JSON.stringify(data));

                // Ø¥Ø´Ø¹Ø§Ø±Ø§Øª Ù…ØªØ¹Ø¯Ø¯Ø© Ù„Ù„Ù…Ø²Ø§Ù…Ù†Ø© Ø§Ù„ÙÙˆØ±ÙŠØ©
                const syncTriggers = [
                    'variteks_store_sync_trigger',
                    'variteks_admin_sync_trigger',
                    'variteks_force_refresh',
                    `variteks_${dataType}_sync_check`,
                    `variteks_${dataType}_update_trigger`
                ];

                syncTriggers.forEach(trigger => {
                    localStorage.setItem(trigger, timestamp);
                });

                // Ø¥Ø´Ø¹Ø§Ø± Ø§Ù„Ù†ÙˆØ§ÙØ° Ø§Ù„Ø£Ø®Ø±Ù‰ Ø¹Ø¨Ø± storage event Ø§Ù„Ù…Ø­Ø³Ù†
                window.dispatchEvent(new StorageEvent('storage', {
                    key: storageKey,
                    newValue: JSON.stringify(data),
                    oldValue: localStorage.getItem(storageKey),
                    storageArea: localStorage
                }));

                // Ø¥Ø´Ø¹Ø§Ø± Ù…Ø¨Ø§Ø´Ø± Ù„Ù„Ù†ÙˆØ§ÙØ° Ø§Ù„Ù…ÙØªÙˆØ­Ø©
                this.broadcastToStoreWindows(dataType, data, timestamp);

                // Ø¥Ø´Ø¹Ø§Ø±Ø§Øª Ø¥Ø¶Ø§ÙÙŠØ© Ù…ØªØ¯Ø±Ø¬Ø© Ù„Ù„ØªØ£ÙƒØ¯ Ù…Ù† Ø§Ù„Ù…Ø²Ø§Ù…Ù†Ø©
                setTimeout(() => {
                    localStorage.setItem(`variteks_${dataType}_delayed_sync`, timestamp);
                    this.broadcastToStoreWindows(dataType, data, timestamp + '_delayed');
                }, 200);

                setTimeout(() => {
                    localStorage.setItem(`variteks_${dataType}_final_sync`, timestamp);
                    this.broadcastToStoreWindows(dataType, data, timestamp + '_final');
                }, 500);

                console.log(`âœ… ØªÙ… Ø¥Ø±Ø³Ø§Ù„ Ø¬Ù…ÙŠØ¹ Ø¥Ø´Ø¹Ø§Ø±Ø§Øª ${dataType} Ù„Ù„Ù…ØªØ¬Ø±`);
            }

            // Ø¨Ø« Ø§Ù„Ø±Ø³Ø§Ø¦Ù„ Ù„Ù†ÙˆØ§ÙØ° Ø§Ù„Ù…ØªØ¬Ø±
            broadcastToStoreWindows(dataType, data, timestamp) {
                try {
                    // Ø¥Ø´Ø¹Ø§Ø± Ø§Ù„Ù†ÙˆØ§ÙØ° Ø§Ù„Ù…ÙØªÙˆØ­Ø© Ù…Ø¨Ø§Ø´Ø±Ø©
                    const storeWindows = window.storeWindows || [];
                    storeWindows.forEach(storeWindow => {
                        if (storeWindow && !storeWindow.closed) {
                            storeWindow.postMessage({
                                type: `${dataType.toUpperCase()}_UPDATED`,
                                [dataType]: data,
                                timestamp: timestamp,
                                source: 'admin_panel'
                            }, '*');
                        }
                    });

                    // Ø¥Ø´Ø¹Ø§Ø± Ø¹Ø§Ù… Ù„Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù†ÙˆØ§ÙØ°
                    window.postMessage({
                        type: 'VARITEKS_DATA_UPDATE',
                        dataType: dataType,
                        data: data,
                        timestamp: timestamp
                    }, '*');

                } catch (error) {
                    console.log('ØªØ¹Ø°Ø± Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„ØªØ­Ø¯ÙŠØ« Ø§Ù„Ù…Ø¨Ø§Ø´Ø± Ù„Ù„Ù…ØªØ¬Ø±:', error);
                }
                setTimeout(() => {
                    localStorage.setItem(`variteks_${dataType}_final_sync`, timestamp);
                    console.log(`ğŸ”” Ø¥Ø´Ø¹Ø§Ø± ØªØ£ÙƒÙŠØ¯ÙŠ Ù†Ù‡Ø§Ø¦ÙŠ Ù„Ù€ ${dataType}`);
                }, 1000);

                console.log(`âœ… ØªÙ… Ø¥Ø±Ø³Ø§Ù„ Ø¥Ø´Ø¹Ø§Ø± ØªØ­Ø¯ÙŠØ« ${dataType} Ø¨Ù†Ø¬Ø§Ø­`);
            }

            // ØªØ­Ù…ÙŠÙ„ Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ù…ØªØ¬Ø±
            loadStoreSettings() {
                const saved = localStorage.getItem('variteks_store_settings');
                if (saved) {
                    return JSON.parse(saved);
                }

                return {
                    heroTitle: "Ù…Ø±Ø­Ø¨Ø§Ù‹ Ø¨Ùƒ ÙÙŠ Ù…ØªØ¬Ø± Variteks-AlgÃ©rie",
                    heroDescription: "Ø§ÙƒØªØ´Ù Ø£ÙØ¶Ù„ Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª Ø¨Ø£Ø³Ø¹Ø§Ø± Ù…Ù†Ø§ÙØ³Ø© ÙˆØ¬ÙˆØ¯Ø© Ø¹Ø§Ù„ÙŠØ©. Ù†Ø­Ù† Ù†Ù‚Ø¯Ù… Ù„Ùƒ ØªØ¬Ø±Ø¨Ø© ØªØ³ÙˆÙ‚ Ø§Ø³ØªØ«Ù†Ø§Ø¦ÙŠØ© Ù…Ø¹ Ø®Ø¯Ù…Ø© Ø¹Ù…Ù„Ø§Ø¡ Ù…ØªÙ…ÙŠØ²Ø©.",
                    heroBackground: "",
                    storeName: "Variteks-AlgÃ©rie",
                    storeLogo: "V",
                    storeTagline: "Ù…ØªØ¬Ø±Ùƒ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ Ø§Ù„Ù…ØªÙ…ÙŠØ²",
                    storePhone: "+213 555 123 456",
                    storeEmail: "info@variteks-algerie.com",
                    primaryColor: "#228B22",
                    secondaryColor: "#FFD700",
                    accentColor: "#DC143C",
                    copyrightText: "Â© 2024 Variteks-AlgÃ©rie. Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø­Ù‚ÙˆÙ‚ Ù…Ø­ÙÙˆØ¸Ø©.",
                    storeAddress: "Ø§Ù„Ø¬Ø²Ø§Ø¦Ø± Ø§Ù„Ø¹Ø§ØµÙ…Ø©ØŒ Ø§Ù„Ø¬Ø²Ø§Ø¦Ø±",
                    facebookLink: "",
                    instagramLink: "",
                    twitterLink: "",
                    whatsappLink: ""
                };
            }

            // Ø­ÙØ¸ Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ù…ØªØ¬Ø±
            saveStoreSettings(settings) {
                localStorage.setItem('variteks_store_settings', JSON.stringify(settings));
                this.notifyStoreDesignUpdate();
            }

            // Ø¥Ø´Ø¹Ø§Ø± Ø§Ù„Ù…ØªØ¬Ø± Ø¨ØªØ­Ø¯ÙŠØ« Ø§Ù„ØªØµÙ…ÙŠÙ…
            notifyStoreDesignUpdate() {
                window.dispatchEvent(new CustomEvent('storeDesignUpdated'));
            }

            // ØªØ­ÙˆÙŠÙ„ Ø§Ù„ØµÙˆØ±Ø© Ø¥Ù„Ù‰ Base64
            convertImageToBase64(file) {
                return new Promise((resolve, reject) => {
                    const reader = new FileReader();
                    reader.onload = () => resolve(reader.result);
                    reader.onerror = reject;
                    reader.readAsDataURL(file);
                });
            }

            // Ø¶ØºØ· Ø§Ù„ØµÙˆØ±Ø©
            compressImage(file, maxWidth = 800, quality = 0.8) {
                return new Promise((resolve) => {
                    const canvas = document.createElement('canvas');
                    const ctx = canvas.getContext('2d');
                    const img = new Image();

                    img.onload = () => {
                        const ratio = Math.min(maxWidth / img.width, maxWidth / img.height);
                        canvas.width = img.width * ratio;
                        canvas.height = img.height * ratio;

                        ctx.drawImage(img, 0, 0, canvas.width, canvas.height);
                        canvas.toBlob(resolve, 'image/jpeg', quality);
                    };

                    img.src = URL.createObjectURL(file);
                });
            }

            // Ø¥Ø¶Ø§ÙØ© Ù…Ù†ØªØ¬ Ø¬Ø¯ÙŠØ¯
            addProduct(product) {
                console.log('â• Ø¨Ø¯Ø¡ Ø¥Ø¶Ø§ÙØ© Ù…Ù†ØªØ¬ Ø¬Ø¯ÙŠØ¯:', product.name);

                const newProduct = {
                    ...product,
                    id: Date.now(),
                    createdAt: new Date().toISOString()
                };

                this.products.unshift(newProduct);
                console.log('ğŸ“¦ ØªÙ… Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ù…Ù†ØªØ¬ Ù„Ù„Ù‚Ø§Ø¦Ù…Ø©. Ø§Ù„Ø¹Ø¯Ø¯ Ø§Ù„Ø­Ø§Ù„ÙŠ:', this.products.length);

                // ØªØ­Ø¯ÙŠØ« filteredProducts Ù„ØªØ´Ù…Ù„ Ø§Ù„Ù…Ù†ØªØ¬ Ø§Ù„Ø¬Ø¯ÙŠØ¯
                this.filteredProducts = [...this.products];
                console.log('ğŸ”„ ØªÙ… ØªØ­Ø¯ÙŠØ« filteredProducts');

                this.saveProducts();
                console.log('ğŸ’¾ ØªÙ… Ø­ÙØ¸ Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª ÙÙŠ localStorage');

                this.updateDashboard();
                console.log('ğŸ“Š ØªÙ… ØªØ­Ø¯ÙŠØ« Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ…');

                this.updateProductsTable();
                console.log('ğŸ“‹ ØªÙ… ØªØ­Ø¯ÙŠØ« Ø¬Ø¯ÙˆÙ„ Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª');

                // Ø¥Ø´Ø¹Ø§Ø± ÙÙˆØ±ÙŠ Ù„Ù„Ù…ØªØ¬Ø±
                this.notifyStoreUpdate('products');
                console.log('ğŸ”” ØªÙ… Ø¥Ø´Ø¹Ø§Ø± Ø§Ù„Ù…ØªØ¬Ø± Ø¨Ø§Ù„Ù…Ù†ØªØ¬ Ø§Ù„Ø¬Ø¯ÙŠØ¯');

                console.log('âœ… ØªÙ… Ø¥Ù†Ù‡Ø§Ø¡ Ø¹Ù…Ù„ÙŠØ© Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ù…Ù†ØªØ¬ Ø¨Ù†Ø¬Ø§Ø­');
                return newProduct;
            }

            // Ø­Ø°Ù Ù…Ù†ØªØ¬
            deleteProduct(id) {
                console.log('ğŸ—‘ï¸ Ø¨Ø¯Ø¡ Ø­Ø°Ù Ø§Ù„Ù…Ù†ØªØ¬:', id);
                this.products = this.products.filter(p => p.id !== id);
                // ØªØ­Ø¯ÙŠØ« filteredProducts Ø¨Ø¹Ø¯ Ø§Ù„Ø­Ø°Ù
                this.filteredProducts = [...this.products];
                this.saveProducts();
                this.updateDashboard();
                this.updateProductsTable();

                // Ø¥Ø´Ø¹Ø§Ø± ÙÙˆØ±ÙŠ Ù„Ù„Ù…ØªØ¬Ø±
                this.notifyStoreUpdate('products');
                console.log('âœ… ØªÙ… Ø­Ø°Ù Ø§Ù„Ù…Ù†ØªØ¬ ÙˆØ¥Ø´Ø¹Ø§Ø± Ø§Ù„Ù…ØªØ¬Ø±');
            }

            // Ø¥Ø¶Ø§ÙØ© Ø·Ù„Ø¨ Ø¬Ø¯ÙŠØ¯ (Ù…Ù† Ø§Ù„Ù…ØªØ¬Ø±)
            addOrder(order) {
                const newOrder = {
                    ...order,
                    id: Date.now(),
                    date: new Date().toISOString(),
                    status: 'pending'
                };
                this.orders.unshift(newOrder);
                this.saveOrders();
                this.updateDashboard();
                this.updateAllOrdersTable();
                return newOrder;
            }

            // ØªØ­Ø¯ÙŠØ« Ø­Ø§Ù„Ø© Ø§Ù„Ø·Ù„Ø¨
            updateOrderStatus(orderId, newStatus) {
                const order = this.orders.find(o => o.id === orderId);
                if (order) {
                    order.status = newStatus;
                    this.saveOrders();
                    this.updateAllOrdersTable();
                    return order;
                }
                return null;
            }

            // Ø¥Ø¶Ø§ÙØ© Ø¹Ù…ÙŠÙ„ Ø¬Ø¯ÙŠØ¯
            addCustomer(customer) {
                const newCustomer = {
                    ...customer,
                    id: Date.now(),
                    joinDate: new Date().toISOString().split('T')[0],
                    totalOrders: 0,
                    totalSpent: 0
                };
                this.customers.push(newCustomer);
                this.saveCustomers();
                this.updateCustomersTable();
                return newCustomer;
            }

            // ØªØ­Ø¯ÙŠØ« Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø¹Ù…ÙŠÙ„
            updateCustomer(customerId, orderTotal) {
                const customer = this.customers.find(c => c.id === customerId);
                if (customer) {
                    customer.totalOrders += 1;
                    customer.totalSpent += orderTotal;
                    this.saveCustomers();
                    this.updateCustomersTable();
                    return customer;
                }
                return null;
            }

            // ØªØ­Ø¯ÙŠØ« Ù„ÙˆØ­Ø© Ø§Ù„Ù…Ø¹Ù„ÙˆÙ…Ø§Øª
            updateDashboard() {
                const stats = this.getStats();

                document.getElementById('totalRevenue').textContent =
                    stats.totalRevenue.toLocaleString() + ' Ø¯Ø¬';
                document.getElementById('totalOrders').textContent =
                    stats.totalOrders.toString();
                document.getElementById('totalProducts').textContent =
                    stats.totalProducts.toString();
                document.getElementById('lowStockWarning').innerHTML =
                    `<i class="fas fa-exclamation-triangle"></i><span>${stats.lowStockProducts} Ù…Ø®Ø²ÙˆÙ† Ù…Ù†Ø®ÙØ¶</span>`;

                // ØªØ­Ø¯ÙŠØ« Ø¹Ø¯Ø§Ø¯ Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª ÙÙŠ Ø§Ù„Ø´Ø±ÙŠØ· Ø§Ù„Ø¬Ø§Ù†Ø¨ÙŠ
                const productsCountElement = document.getElementById('productsCount');
                if (productsCountElement) {
                    productsCountElement.textContent = stats.totalProducts;
                }

                this.updateOrdersTable();
            }

            // Ø§Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ Ø§Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª
            getStats() {
                const totalProducts = this.products.length;
                const totalRevenue = this.orders
                    .filter(o => o.status === 'completed')
                    .reduce((sum, o) => sum + o.total, 0);
                const totalOrders = this.orders.length;
                const lowStockProducts = this.products.filter(p => p.stock < 10).length;

                return {
                    totalProducts,
                    totalRevenue,
                    totalOrders,
                    lowStockProducts
                };
            }

            // ØªØ­Ø¯ÙŠØ« Ø¬Ø¯ÙˆÙ„ Ø§Ù„Ø·Ù„Ø¨Ø§Øª
            updateOrdersTable() {
                const tbody = document.getElementById('ordersTableBody');
                const recentOrders = this.orders.slice(0, 5);

                tbody.innerHTML = recentOrders.map(order => `
                    <tr>
                        <td style="font-weight: 500;">#${order.id.toString().padStart(3, '0')}</td>
                        <td>${order.customer}</td>
                        <td style="font-weight: 500;">${order.total.toLocaleString()} Ø¯Ø¬</td>
                        <td>
                            <span class="status-badge status-${order.status}">
                                ${this.getStatusText(order.status)}
                            </span>
                        </td>
                        <td>${new Date(order.date).toLocaleDateString('ar-SA')}</td>
                        <td>
                            <button class="btn btn-secondary" style="padding: 0.25rem 0.5rem; font-size: 12px;">
                                <i class="fas fa-eye"></i>
                            </button>
                        </td>
                    </tr>
                `).join('');
            }

            // ØªØ­Ø¯ÙŠØ« Ø´Ø¨ÙƒØ© Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª Ø§Ù„Ø¨Ø³ÙŠØ·Ø©
            updateProductsTable() {
                const grid = document.getElementById('productsGrid');
                if (!grid) return;

                console.log('ğŸ”„ ØªØ­Ø¯ÙŠØ« Ø´Ø¨ÙƒØ© Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª:', this.products.length, 'Ù…Ù†ØªØ¬');

                if (this.products.length === 0) {
                    grid.innerHTML = `
                        <div class="empty-products" style="grid-column: 1 / -1;">
                            <i class="fas fa-box-open"></i>
                            <h3>Ù„Ø§ ØªÙˆØ¬Ø¯ Ù…Ù†ØªØ¬Ø§Øª</h3>
                            <p>Ø§Ø¨Ø¯Ø£ Ø¨Ø¥Ø¶Ø§ÙØ© Ù…Ù†ØªØ¬Ø§Øª Ø¬Ø¯ÙŠØ¯Ø© Ù„Ù…ØªØ¬Ø±Ùƒ</p>
                            <button class="btn btn-primary" onclick="showAddProductModal()">
                                <i class="fas fa-plus"></i>
                                Ø¥Ø¶Ø§ÙØ© Ø£ÙˆÙ„ Ù…Ù†ØªØ¬
                            </button>
                        </div>
                    `;
                    return;
                }

                grid.innerHTML = this.products.map(product => `
                    <div class="product-card-admin">
                        ${product.featured ? '<div class="featured-badge-admin"><i class="fas fa-star"></i> Ù…Ù…ÙŠØ²</div>' : ''}

                        <img src="${product.image || 'https://via.placeholder.com/300x200'}"
                             alt="${product.name}"
                             class="product-image-admin"
                             onerror="this.src='https://via.placeholder.com/300x200'">

                        <div class="product-info-admin">
                            <h3 class="product-name-admin">${product.name}</h3>
                            <p class="product-description-admin">${product.description || 'Ù„Ø§ ÙŠÙˆØ¬Ø¯ ÙˆØµÙ Ù…ØªØ§Ø­'}</p>

                            <div class="product-details-admin">
                                <span class="product-price-admin">${product.price.toLocaleString()} Ø¯Ø¬</span>
                                <span class="product-category-admin">${product.category}</span>
                            </div>

                            <div class="product-stock-admin ${product.stock < 10 ? 'low' : 'normal'}">
                                <i class="fas fa-warehouse"></i>
                                Ø§Ù„Ù…Ø®Ø²ÙˆÙ†: ${product.stock} Ù‚Ø·Ø¹Ø©
                                ${product.stock < 10 ? '<i class="fas fa-exclamation-triangle" style="margin-right: 0.5rem;"></i>' : ''}
                            </div>

                            <div class="product-actions-admin">
                                <button class="btn btn-secondary" onclick="toggleProductFeatured(${product.id})"
                                        style="background: ${product.featured ? '#f59e0b' : '#6b7280'};">
                                    <i class="fas fa-star"></i>
                                    ${product.featured ? 'Ø¥Ù„ØºØ§Ø¡ Ø§Ù„ØªÙ…ÙŠÙŠØ²' : 'ØªÙ…ÙŠÙŠØ²'}
                                </button>
                                <button class="btn btn-primary" onclick="editProduct(${product.id})">
                                    <i class="fas fa-edit"></i>
                                    ØªØ¹Ø¯ÙŠÙ„
                                </button>
                                <button class="btn btn-danger" onclick="deleteProduct(${product.id})">
                                    <i class="fas fa-trash"></i>
                                    Ø­Ø°Ù
                                </button>
                            </div>
                        </div>
                    </div>
                `).join('');

                console.log('âœ… ØªÙ… ØªØ­Ø¯ÙŠØ« Ø´Ø¨ÙƒØ© Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª Ø¨Ù†Ø¬Ø§Ø­');
            }

            // ØªØ­Ø¯ÙŠØ« Ø´Ø¨ÙƒØ© Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª Ø§Ù„Ø¨Ø³ÙŠØ·Ø© (Ø¯Ø§Ù„Ø© Ù…Ù†ÙØµÙ„Ø© Ù„Ù„Ø¹Ø±Ø¶ Ø§Ù„Ø¨Ø³ÙŠØ·)
            updateSimpleProductsTable() {
                const grid = document.getElementById('productsGrid');
                if (!grid) return;

                console.log('ğŸ”„ ØªØ­Ø¯ÙŠØ« Ø´Ø¨ÙƒØ© Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª Ø§Ù„Ø¨Ø³ÙŠØ·Ø©:', this.products.length, 'Ù…Ù†ØªØ¬');

                if (this.products.length === 0) {
                    grid.innerHTML = `
                        <div class="empty-products" style="grid-column: 1 / -1;">
                            <i class="fas fa-box-open"></i>
                            <h3>Ù„Ø§ ØªÙˆØ¬Ø¯ Ù…Ù†ØªØ¬Ø§Øª</h3>
                            <p>Ø§Ø¨Ø¯Ø£ Ø¨Ø¥Ø¶Ø§ÙØ© Ù…Ù†ØªØ¬Ø§Øª Ø¬Ø¯ÙŠØ¯Ø© Ù„Ù…ØªØ¬Ø±Ùƒ</p>
                            <button class="btn btn-primary" onclick="showAddProductModal()">
                                <i class="fas fa-plus"></i>
                                Ø¥Ø¶Ø§ÙØ© Ø£ÙˆÙ„ Ù…Ù†ØªØ¬
                            </button>
                        </div>
                    `;
                    return;
                }

                grid.innerHTML = this.products.map(product => `
                    <div class="product-card-admin">
                        ${product.featured ? '<div class="featured-badge-admin"><i class="fas fa-star"></i> Ù…Ù…ÙŠØ²</div>' : ''}

                        <img src="${product.image || 'https://via.placeholder.com/300x200'}"
                             alt="${product.name}"
                             class="product-image-admin"
                             onerror="this.src='https://via.placeholder.com/300x200'">

                        <div class="product-info-admin">
                            <h3 class="product-name-admin">${product.name}</h3>
                            <p class="product-description-admin">${product.description || 'Ù„Ø§ ÙŠÙˆØ¬Ø¯ ÙˆØµÙ Ù…ØªØ§Ø­'}</p>

                            <div class="product-details-admin">
                                <span class="product-price-admin">${product.price.toLocaleString()} Ø¯Ø¬</span>
                                <span class="product-category-admin">${product.category}</span>
                            </div>

                            <div class="product-stock-admin ${product.stock < 10 ? 'low' : 'normal'}">
                                <i class="fas fa-warehouse"></i>
                                Ø§Ù„Ù…Ø®Ø²ÙˆÙ†: ${product.stock} Ù‚Ø·Ø¹Ø©
                                ${product.stock < 10 ? '<i class="fas fa-exclamation-triangle" style="margin-right: 0.5rem;"></i>' : ''}
                            </div>

                            <div class="product-actions-admin">
                                <button class="btn btn-secondary" onclick="toggleProductFeatured(${product.id})"
                                        style="background: ${product.featured ? '#f59e0b' : '#6b7280'};">
                                    <i class="fas fa-star"></i>
                                    ${product.featured ? 'Ø¥Ù„ØºØ§Ø¡ Ø§Ù„ØªÙ…ÙŠÙŠØ²' : 'ØªÙ…ÙŠÙŠØ²'}
                                </button>
                                <button class="btn btn-primary" onclick="editProduct(${product.id})">
                                    <i class="fas fa-edit"></i>
                                    ØªØ¹Ø¯ÙŠÙ„
                                </button>
                                <button class="btn btn-danger" onclick="deleteProduct(${product.id})">
                                    <i class="fas fa-trash"></i>
                                    Ø­Ø°Ù
                                </button>
                            </div>
                        </div>
                    </div>
                `).join('');

                console.log('âœ… ØªÙ… ØªØ­Ø¯ÙŠØ« Ø´Ø¨ÙƒØ© Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª Ø§Ù„Ø¨Ø³ÙŠØ·Ø© Ø¨Ù†Ø¬Ø§Ø­');
            }

            // ØªØ­Ø¯ÙŠØ« Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª
            updateProductsStats() {
                const totalProducts = this.products.length;
                const lowStockProducts = this.products.filter(p => p.stock < 10).length;
                const featuredProducts = this.products.filter(p => p.featured).length;
                const averagePrice = totalProducts > 0 ?
                    Math.round(this.products.reduce((sum, p) => sum + p.price, 0) / totalProducts) : 0;

                // ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø¹Ù†Ø§ØµØ± Ø¥Ø°Ø§ ÙƒØ§Ù†Øª Ù…ÙˆØ¬ÙˆØ¯Ø©
                const productsCountEl = document.getElementById('productsCount');
                const lowStockCountEl = document.getElementById('lowStockCount');
                const featuredCountEl = document.getElementById('featuredCount');
                const averagePriceEl = document.getElementById('averagePrice');

                if (productsCountEl) productsCountEl.textContent = totalProducts;
                if (lowStockCountEl) lowStockCountEl.textContent = lowStockProducts;
                if (featuredCountEl) featuredCountEl.textContent = featuredProducts;
                if (averagePriceEl) averagePriceEl.textContent = averagePrice.toLocaleString() + ' Ø¯Ø¬';
            }

            // Ø¹Ø±Ø¶ Ø¬Ø¯ÙˆÙ„ Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª Ù…Ø¹ Ø§Ù„ØªØµÙÙŠØ© ÙˆØ§Ù„ØªØ±ØªÙŠØ¨
            renderProductsTable() {
                // Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† ÙˆØ¬ÙˆØ¯ Ø¹Ù†Ø§ØµØ± Ø§Ù„Ø¨Ø­Ø« ÙˆØ§Ù„ØªØµÙÙŠØ©
                if (!document.getElementById('productSearch')) {
                    // Ø¥Ø°Ø§ Ù„Ù… ØªÙƒÙ† Ø¹Ù†Ø§ØµØ± Ø§Ù„Ø¨Ø­Ø« Ù…ÙˆØ¬ÙˆØ¯Ø©ØŒ Ø§Ø³ØªØ®Ø¯Ù… Ø§Ù„Ø¬Ø¯ÙˆÙ„ Ø§Ù„Ø¨Ø³ÙŠØ·
                    this.updateSimpleProductsTable();
                    return;
                }

                let filteredProducts = [...this.products];

                // ØªØ·Ø¨ÙŠÙ‚ Ø§Ù„Ø¨Ø­Ø«
                const searchTerm = document.getElementById('productSearch')?.value.toLowerCase() || '';
                if (searchTerm) {
                    filteredProducts = filteredProducts.filter(product =>
                        product.name.toLowerCase().includes(searchTerm) ||
                        product.category.toLowerCase().includes(searchTerm) ||
                        product.description?.toLowerCase().includes(searchTerm)
                    );
                }

                // ØªØ·Ø¨ÙŠÙ‚ ØªØµÙÙŠØ© Ø§Ù„ÙØ¦Ø©
                const categoryFilter = document.getElementById('categoryFilter')?.value || '';
                if (categoryFilter) {
                    filteredProducts = filteredProducts.filter(product =>
                        product.category === categoryFilter
                    );
                }

                // ØªØ·Ø¨ÙŠÙ‚ Ø§Ù„ØªØ±ØªÙŠØ¨
                if (this.sortField) {
                    filteredProducts.sort((a, b) => {
                        let aVal = a[this.sortField];
                        let bVal = b[this.sortField];

                        if (this.sortField === 'price' || this.sortField === 'stock') {
                            aVal = Number(aVal);
                            bVal = Number(bVal);
                        } else if (this.sortField === 'createdAt') {
                            aVal = new Date(aVal);
                            bVal = new Date(bVal);
                        } else {
                            aVal = String(aVal).toLowerCase();
                            bVal = String(bVal).toLowerCase();
                        }

                        if (aVal < bVal) return this.sortDirection === 'asc' ? -1 : 1;
                        if (aVal > bVal) return this.sortDirection === 'asc' ? 1 : -1;
                        return 0;
                    });
                }

                this.filteredProducts = filteredProducts;
                this.renderProductsPage();
            }

            // Ø¹Ø±Ø¶ ØµÙØ­Ø© Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª Ø§Ù„Ø­Ø§Ù„ÙŠØ©
            renderProductsPage() {
                const tbody = document.getElementById('productsTableBody');
                const startIndex = (this.currentPage - 1) * this.itemsPerPage;
                const endIndex = startIndex + this.itemsPerPage;
                const pageProducts = this.filteredProducts.slice(startIndex, endIndex);

                tbody.innerHTML = pageProducts.map(product => `
                    <tr class="${this.selectedProducts.has(product.id) ? 'selected' : ''}">
                        <td>
                            <input type="checkbox" ${this.selectedProducts.has(product.id) ? 'checked' : ''}
                                   onchange="toggleProductSelection(${product.id})">
                        </td>
                        <td>
                            <img src="${product.image || 'https://via.placeholder.com/50'}"
                                 alt="${product.name}"
                                 class="product-table-image"
                                 onerror="this.src='https://via.placeholder.com/50'">
                        </td>
                        <td>
                            <div style="font-weight: 500; margin-bottom: 0.25rem;">${product.name}</div>
                            <div style="font-size: 12px; color: #6b7280;">${product.description?.substring(0, 50) || 'Ù„Ø§ ÙŠÙˆØ¬Ø¯ ÙˆØµÙ'}...</div>
                        </td>
                        <td style="font-weight: 500;">${product.price.toLocaleString()} Ø¯Ø¬</td>
                        <td>
                            <span class="status-badge" style="background: #e0f2fe; color: #0277bd;">
                                ${product.category}
                            </span>
                        </td>
                        <td>
                            <span class="${product.stock < 10 ? 'stock-low' : 'stock-normal'}">
                                ${product.stock}
                                ${product.stock < 10 ? '<i class="fas fa-exclamation-triangle" style="margin-right: 0.25rem;"></i>' : ''}
                            </span>
                        </td>
                        <td>
                            <div style="display: flex; gap: 0.25rem;">
                                ${product.featured ?
                                    '<span class="status-badge status-featured"><i class="fas fa-star"></i> Ù…Ù…ÙŠØ²</span>' :
                                    '<span class="status-badge status-active">Ø¹Ø§Ø¯ÙŠ</span>'
                                }
                            </div>
                        </td>
                        <td style="font-size: 12px; color: #6b7280;">
                            ${new Date(product.createdAt).toLocaleDateString('ar-SA')}
                        </td>
                        <td>
                            <div style="display: flex; gap: 0.25rem;">
                                <button onclick="editProduct(${product.id})"
                                        class="btn btn-secondary"
                                        style="padding: 0.25rem 0.5rem; font-size: 12px; background: #3b82f6; color: white;"
                                        title="ØªØ¹Ø¯ÙŠÙ„">
                                    <i class="fas fa-edit"></i>
                                </button>
                                <button onclick="duplicateProduct(${product.id})"
                                        class="btn btn-secondary"
                                        style="padding: 0.25rem 0.5rem; font-size: 12px; background: #059669; color: white;"
                                        title="Ù†Ø³Ø®">
                                    <i class="fas fa-copy"></i>
                                </button>
                                <button onclick="deleteProduct(${product.id})"
                                        class="btn btn-secondary"
                                        style="padding: 0.25rem 0.5rem; font-size: 12px; background: #dc2626; color: white;"
                                        title="Ø­Ø°Ù">
                                    <i class="fas fa-trash"></i>
                                </button>
                            </div>
                        </td>
                    </tr>
                `).join('');

                this.updateBulkActions();
            }

            // ØªØ­Ø¯ÙŠØ« Ø¥Ø¬Ø±Ø§Ø¡Ø§Øª Ø§Ù„ØªØ­Ø¯ÙŠØ¯ Ø§Ù„Ù…Ø¬Ù…Ø¹
            updateBulkActions() {
                const bulkActions = document.getElementById('bulkActions');
                const selectedCount = document.getElementById('selectedCount');

                if (this.selectedProducts.size > 0) {
                    bulkActions.style.display = 'flex';
                    selectedCount.textContent = this.selectedProducts.size;
                } else {
                    bulkActions.style.display = 'none';
                }
            }

            // ØªØ­Ø¯ÙŠØ« Ø§Ù„ØªØ±Ù‚ÙŠÙ…
            updatePagination() {
                const pagination = document.getElementById('productsPagination');
                if (!pagination) return; // Ø¥Ø°Ø§ Ù„Ù… ÙŠÙƒÙ† Ø¹Ù†ØµØ± Ø§Ù„ØªØ±Ù‚ÙŠÙ… Ù…ÙˆØ¬ÙˆØ¯

                const totalPages = Math.ceil(this.filteredProducts.length / this.itemsPerPage);

                if (totalPages <= 1) {
                    pagination.innerHTML = '';
                    return;
                }

                let paginationHTML = '';

                // Ø²Ø± Ø§Ù„Ø³Ø§Ø¨Ù‚
                paginationHTML += `
                    <button ${this.currentPage === 1 ? 'disabled' : ''}
                            onclick="changePage(${this.currentPage - 1})">
                        <i class="fas fa-chevron-right"></i>
                    </button>
                `;

                // Ø£Ø±Ù‚Ø§Ù… Ø§Ù„ØµÙØ­Ø§Øª
                for (let i = 1; i <= totalPages; i++) {
                    if (i === 1 || i === totalPages || (i >= this.currentPage - 2 && i <= this.currentPage + 2)) {
                        paginationHTML += `
                            <button class="${i === this.currentPage ? 'active' : ''}"
                                    onclick="changePage(${i})">
                                ${i}
                            </button>
                        `;
                    } else if (i === this.currentPage - 3 || i === this.currentPage + 3) {
                        paginationHTML += '<span>...</span>';
                    }
                }

                // Ø²Ø± Ø§Ù„ØªØ§Ù„ÙŠ
                paginationHTML += `
                    <button ${this.currentPage === totalPages ? 'disabled' : ''}
                            onclick="changePage(${this.currentPage + 1})">
                        <i class="fas fa-chevron-left"></i>
                    </button>
                `;

                pagination.innerHTML = paginationHTML;
            }

            // ØªØ­Ø¯ÙŠØ« Ù…Ù†ØªØ¬ Ù…ÙˆØ¬ÙˆØ¯
            updateProduct(id, updatedProduct) {
                console.log('âœï¸ Ø¨Ø¯Ø¡ ØªØ­Ø¯ÙŠØ« Ø§Ù„Ù…Ù†ØªØ¬:', id);
                const index = this.products.findIndex(p => p.id === id);
                if (index !== -1) {
                    this.products[index] = { ...this.products[index], ...updatedProduct };
                    // ØªØ­Ø¯ÙŠØ« filteredProducts Ø¨Ø¹Ø¯ Ø§Ù„ØªØ¹Ø¯ÙŠÙ„
                    this.filteredProducts = [...this.products];
                    this.saveProducts();
                    this.updateDashboard();
                    this.updateProductsTable();

                    // Ø¥Ø´Ø¹Ø§Ø± ÙÙˆØ±ÙŠ Ù„Ù„Ù…ØªØ¬Ø±
                    this.notifyStoreUpdate('products');
                    console.log('âœ… ØªÙ… ØªØ­Ø¯ÙŠØ« Ø§Ù„Ù…Ù†ØªØ¬ ÙˆØ¥Ø´Ø¹Ø§Ø± Ø§Ù„Ù…ØªØ¬Ø±');
                    return this.products[index];
                }
                return null;
            }

            // Ù†Ø³Ø® Ù…Ù†ØªØ¬
            duplicateProduct(id) {
                console.log('ğŸ“‹ Ø¨Ø¯Ø¡ Ù†Ø³Ø® Ø§Ù„Ù…Ù†ØªØ¬:', id);
                const product = this.products.find(p => p.id === id);
                if (product) {
                    const duplicatedProduct = {
                        ...product,
                        id: Date.now(),
                        name: product.name + ' (Ù†Ø³Ø®Ø©)',
                        createdAt: new Date().toISOString()
                    };
                    this.products.unshift(duplicatedProduct);
                    // ØªØ­Ø¯ÙŠØ« filteredProducts
                    this.filteredProducts = [...this.products];
                    this.saveProducts();
                    this.updateDashboard();
                    this.updateProductsTable();

                    // Ø¥Ø´Ø¹Ø§Ø± ÙÙˆØ±ÙŠ Ù„Ù„Ù…ØªØ¬Ø±
                    this.notifyStoreUpdate('products');
                    console.log('âœ… ØªÙ… Ù†Ø³Ø® Ø§Ù„Ù…Ù†ØªØ¬ ÙˆØ¥Ø´Ø¹Ø§Ø± Ø§Ù„Ù…ØªØ¬Ø±');
                    return duplicatedProduct;
                }
                return null;
            }

            // ØªØ­Ø¯ÙŠØ« Ø¬Ø¯ÙˆÙ„ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø·Ù„Ø¨Ø§Øª
            updateAllOrdersTable() {
                const tbody = document.getElementById('allOrdersTableBody');

                tbody.innerHTML = this.orders.map(order => `
                    <tr>
                        <td style="font-weight: 500;">#${order.id.toString().padStart(3, '0')}</td>
                        <td>
                            <div style="font-weight: 500;">${order.customer}</div>
                            <div style="font-size: 12px; color: #6b7280;">${order.email}</div>
                        </td>
                        <td>
                            <div style="font-size: 12px;">
                                ${order.products.map(p => `${p.name} (${p.quantity})`).join('<br>')}
                            </div>
                        </td>
                        <td style="font-weight: 500;">${order.total.toLocaleString()} Ø¯Ø¬</td>
                        <td>
                            <span class="status-badge status-${order.status}">
                                ${this.getStatusText(order.status)}
                            </span>
                        </td>
                        <td>${new Date(order.date).toLocaleDateString('ar-SA')}</td>
                        <td>
                            <button class="btn btn-secondary" style="padding: 0.25rem 0.5rem; font-size: 12px;">
                                <i class="fas fa-eye"></i>
                            </button>
                        </td>
                    </tr>
                `).join('');
            }

            // ØªØ­Ø¯ÙŠØ« Ø¬Ø¯ÙˆÙ„ Ø§Ù„Ø¹Ù…Ù„Ø§Ø¡
            updateCustomersTable() {
                const tbody = document.getElementById('customersTableBody');

                tbody.innerHTML = this.customers.map(customer => `
                    <tr>
                        <td style="font-weight: 500;">${customer.name}</td>
                        <td>${customer.email}</td>
                        <td>${customer.phone}</td>
                        <td>${customer.totalOrders}</td>
                        <td style="font-weight: 500;">${customer.totalSpent.toLocaleString()} Ø¯Ø¬</td>
                        <td>${new Date(customer.joinDate).toLocaleDateString('ar-SA')}</td>
                        <td>
                            <button class="btn btn-secondary" style="padding: 0.25rem 0.5rem; font-size: 12px;">
                                <i class="fas fa-eye"></i>
                            </button>
                        </td>
                    </tr>
                `).join('');
            }

            // Ø§Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ Ù†Øµ Ø§Ù„Ø­Ø§Ù„Ø©
            getStatusText(status) {
                const statusMap = {
                    'pending': 'Ù…Ø¹Ù„Ù‚',
                    'processing': 'Ù‚ÙŠØ¯ Ø§Ù„Ù…Ø¹Ø§Ù„Ø¬Ø©',
                    'completed': 'Ù…ÙƒØªÙ…Ù„',
                    'cancelled': 'Ù…Ù„ØºÙŠ'
                };
                return statusMap[status] || status;
            }

            // ØªÙ‡ÙŠØ¦Ø© Ø§Ù„Ø±Ø³ÙˆÙ… Ø§Ù„Ø¨ÙŠØ§Ù†ÙŠØ©
            initializeCharts() {
                // Ø±Ø³Ù… Ø¨ÙŠØ§Ù†ÙŠ Ù„Ù„Ù…Ø¨ÙŠØ¹Ø§Øª
                const salesCtx = document.getElementById('salesChart');
                if (salesCtx) {
                    new Chart(salesCtx, {
                        type: 'line',
                        data: {
                            labels: ['Ø§Ù„Ø³Ø¨Øª', 'Ø§Ù„Ø£Ø­Ø¯', 'Ø§Ù„Ø§Ø«Ù†ÙŠÙ†', 'Ø§Ù„Ø«Ù„Ø§Ø«Ø§Ø¡', 'Ø§Ù„Ø£Ø±Ø¨Ø¹Ø§Ø¡', 'Ø§Ù„Ø®Ù…ÙŠØ³', 'Ø§Ù„Ø¬Ù…Ø¹Ø©'],
                            datasets: [{
                                label: 'Ø§Ù„Ù…Ø¨ÙŠØ¹Ø§Øª (Ø¯Ø¬)',
                                data: [120000, 190000, 300000, 500000, 200000, 300000, 450000],
                                borderColor: '#10b981',
                                backgroundColor: 'rgba(16, 185, 129, 0.1)',
                                tension: 0.4,
                                fill: true
                            }]
                        },
                        options: {
                            responsive: true,
                            maintainAspectRatio: false,
                            plugins: {
                                legend: {
                                    display: false
                                }
                            },
                            scales: {
                                y: {
                                    beginAtZero: true,
                                    ticks: {
                                        callback: function(value) {
                                            return value.toLocaleString() + ' Ø¯Ø¬';
                                        }
                                    }
                                }
                            }
                        }
                    });
                }

                // Ø±Ø³Ù… Ø¨ÙŠØ§Ù†ÙŠ Ù„Ù„ÙØ¦Ø§Øª
                const categoryCtx = document.getElementById('categoryChart');
                if (categoryCtx) {
                    new Chart(categoryCtx, {
                        type: 'doughnut',
                        data: {
                            labels: ['Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠØ§Øª', 'Ù…Ù„Ø§Ø¨Ø³', 'Ø¥ÙƒØ³Ø³ÙˆØ§Ø±Ø§Øª', 'Ù…Ù†Ø²Ù„ ÙˆØ­Ø¯ÙŠÙ‚Ø©'],
                            datasets: [{
                                data: [45, 25, 20, 10],
                                backgroundColor: [
                                    '#3b82f6',
                                    '#10b981',
                                    '#f59e0b',
                                    '#8b5cf6'
                                ]
                            }]
                        },
                        options: {
                            responsive: true,
                            maintainAspectRatio: false,
                            plugins: {
                                legend: {
                                    position: 'bottom'
                                }
                            }
                        }
                    });
                }
            }
        }

        // Ø¥Ù†Ø´Ø§Ø¡ Ù†Ø¸Ø§Ù… Ø§Ù„Ø¥Ø¯Ø§Ø±Ø©
        let adminSystem;

        // Ù…Ø±Ø§Ù‚Ø¨Ø© Ø§Ù„Ø·Ù„Ø¨Ø§Øª Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø© Ù…Ù† Ø§Ù„Ù…ØªØ¬Ø±
        window.lastAdminTrigger = localStorage.getItem('variteks_admin_sync_trigger') || '0';
        setInterval(() => {
            const adminTrigger = localStorage.getItem('variteks_admin_sync_trigger');
            if (adminTrigger && adminTrigger !== window.lastAdminTrigger) {
                window.lastAdminTrigger = adminTrigger;

                if (adminSystem) {
                    // ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø·Ù„Ø¨Ø§Øª
                    const savedOrders = localStorage.getItem('variteks_orders');
                    if (savedOrders) {
                        try {
                            const orders = JSON.parse(savedOrders);
                            if (orders.length > adminSystem.orders.length) {
                                console.log('ğŸ“¦ ØªÙ… Ø§Ø³ØªÙ‚Ø¨Ø§Ù„ Ø·Ù„Ø¨ Ø¬Ø¯ÙŠØ¯ Ù…Ù† Ø§Ù„Ù…ØªØ¬Ø±!');
                                adminSystem.orders = orders;
                                adminSystem.updateDashboard();
                                adminSystem.updateAllOrdersTable();
                                showNotification('ØªÙ… Ø§Ø³ØªÙ‚Ø¨Ø§Ù„ Ø·Ù„Ø¨ Ø¬Ø¯ÙŠØ¯ Ù…Ù† Ø§Ù„Ù…ØªØ¬Ø±!', 'success');
                            }
                        } catch (error) {
                            console.error('Ø®Ø·Ø£ ÙÙŠ ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø·Ù„Ø¨Ø§Øª:', error);
                        }
                    }
                }
            }
        }, 500);

        // Ù…Ø±Ø§Ù‚Ø¨ Ø¥Ø¶Ø§ÙÙŠ Ù„Ù„Ø·Ù„Ø¨Ø§Øª Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø©
        window.lastOrdersTimestamp = localStorage.getItem('variteks_orders_timestamp') || '0';
        setInterval(() => {
            const ordersTimestamp = localStorage.getItem('variteks_orders_timestamp');
            if (ordersTimestamp && ordersTimestamp !== window.lastOrdersTimestamp) {
                window.lastOrdersTimestamp = ordersTimestamp;

                if (adminSystem) {
                    const savedOrders = localStorage.getItem('variteks_orders');
                    if (savedOrders) {
                        try {
                            const orders = JSON.parse(savedOrders);
                            console.log('ğŸ”” ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø·Ù„Ø¨Ø§Øª Ù…Ù† Ø§Ù„Ù…ØªØ¬Ø±:', orders.length, 'Ø·Ù„Ø¨');
                            adminSystem.orders = orders;
                            adminSystem.updateDashboard();
                            adminSystem.updateAllOrdersTable();
                            showNotification('ØªÙ… ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø·Ù„Ø¨Ø§Øª Ù…Ù† Ø§Ù„Ù…ØªØ¬Ø±!', 'success');
                        } catch (error) {
                            console.error('Ø®Ø·Ø£ ÙÙŠ ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø·Ù„Ø¨Ø§Øª:', error);
                        }
                    }
                }
            }
        }, 1000);

        // Ù…Ø±Ø§Ù‚Ø¨ Ø¥Ø¶Ø§ÙÙŠ Ù„Ù„Ù…Ù†ØªØ¬Ø§Øª Ø§Ù„Ù…Ø¶Ø§ÙØ© Ù…Ù† Ø§Ù„Ù…ØªØ¬Ø±
        window.lastStoreProductsTimestamp = localStorage.getItem('variteks_products_timestamp') || '0';
        setInterval(() => {
            const productsTimestamp = localStorage.getItem('variteks_products_timestamp');
            if (productsTimestamp && productsTimestamp !== window.lastStoreProductsTimestamp) {
                window.lastStoreProductsTimestamp = productsTimestamp;

                if (adminSystem) {
                    const savedProducts = localStorage.getItem('variteks_products');
                    if (savedProducts) {
                        try {
                            const products = JSON.parse(savedProducts);
                            if (products.length > adminSystem.products.length) {
                                console.log('ğŸ›ï¸ ØªÙ… Ø¥Ø¶Ø§ÙØ© Ù…Ù†ØªØ¬ Ø¬Ø¯ÙŠØ¯ Ù…Ù† Ø§Ù„Ù…ØªØ¬Ø±!');
                                adminSystem.products = products;
                                adminSystem.filteredProducts = [...products];
                                adminSystem.updateDashboard();
                                adminSystem.updateProductsTable();
                                showNotification('ØªÙ… Ø¥Ø¶Ø§ÙØ© Ù…Ù†ØªØ¬ Ø¬Ø¯ÙŠØ¯ Ù…Ù† Ø§Ù„Ù…ØªØ¬Ø±!', 'success');
                            } else if (products.length !== adminSystem.products.length) {
                                console.log('ğŸ”„ ØªÙ… ØªØ­Ø¯ÙŠØ« Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª Ù…Ù† Ø§Ù„Ù…ØªØ¬Ø±');
                                adminSystem.products = products;
                                adminSystem.filteredProducts = [...products];
                                adminSystem.updateDashboard();
                                adminSystem.updateProductsTable();
                                showNotification('ØªÙ… ØªØ­Ø¯ÙŠØ« Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª Ù…Ù† Ø§Ù„Ù…ØªØ¬Ø±!', 'success');
                            }
                        } catch (error) {
                            console.error('Ø®Ø·Ø£ ÙÙŠ ØªØ­Ø¯ÙŠØ« Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª:', error);
                        }
                    }
                }
            }
        }, 1000);

        // ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„
        document.getElementById('loginForm').addEventListener('submit', function(e) {
            e.preventDefault();

            const username = document.getElementById('loginUsername').value;
            const password = document.getElementById('loginPassword').value;
            const errorDiv = document.getElementById('loginError');

            if ((username === 'admin' && password === 'admin123') ||
                (username === 'manager' && password === 'manager123')) {

                adminSystem = new AdminSystem();
                adminSystem.currentUser = {
                    username: username,
                    role: username === 'admin' ? 'admin' : 'manager'
                };

                // ØªØ­Ø¯ÙŠØ« Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…
                document.getElementById('userAvatar').textContent = username.charAt(0).toUpperCase();
                document.getElementById('userName').textContent =
                    username === 'admin' ? 'Ù…Ø¯ÙŠØ± Ø§Ù„Ù†Ø¸Ø§Ù…' : 'Ù…Ø´Ø±Ù Ø§Ù„Ù…ØªØ¬Ø±';
                document.getElementById('userRole').textContent =
                    username === 'admin' ? 'ØµÙ„Ø§Ø­ÙŠØ§Øª ÙƒØ§Ù…Ù„Ø©' : 'ØµÙ„Ø§Ø­ÙŠØ§Øª Ù…Ø­Ø¯ÙˆØ¯Ø©';

                // Ø¥Ø®ÙØ§Ø¡ Ù†Ø§ÙØ°Ø© ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„
                document.getElementById('loginModal').classList.remove('show');

                // Ø¹Ø±Ø¶ Ø§Ù„ØµÙØ­Ø© Ø§Ù„Ø§ÙØªØ±Ø§Ø¶ÙŠØ©
                showPage('dashboard');

            } else {
                errorDiv.textContent = 'Ø§Ø³Ù… Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ø£Ùˆ ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± ØºÙŠØ± ØµØ­ÙŠØ­Ø©';
                errorDiv.style.display = 'block';
            }
        });

        // Ø§Ù„ØªÙ†Ù‚Ù„ Ø¨ÙŠÙ† Ø§Ù„ØµÙØ­Ø§Øª
        function showPage(pageName) {
            // Ø¥Ø®ÙØ§Ø¡ Ø¬Ù…ÙŠØ¹ Ø§Ù„ØµÙØ­Ø§Øª
            document.querySelectorAll('.page-content').forEach(page => {
                page.classList.add('hidden');
            });

            // Ø¥Ø²Ø§Ù„Ø© Ø§Ù„ÙØ¦Ø© Ø§Ù„Ù†Ø´Ø·Ø© Ù…Ù† Ø¬Ù…ÙŠØ¹ Ø¹Ù†Ø§ØµØ± Ø§Ù„ØªÙ†Ù‚Ù„
            document.querySelectorAll('.nav-item').forEach(item => {
                item.classList.remove('active');
            });

            // Ø¹Ø±Ø¶ Ø§Ù„ØµÙØ­Ø© Ø§Ù„Ù…Ø­Ø¯Ø¯Ø©
            document.getElementById(pageName + 'Page').classList.remove('hidden');

            // Ø¥Ø¶Ø§ÙØ© Ø§Ù„ÙØ¦Ø© Ø§Ù„Ù†Ø´Ø·Ø© Ù„Ø¹Ù†ØµØ± Ø§Ù„ØªÙ†Ù‚Ù„
            document.querySelector(`[data-page="${pageName}"]`).classList.add('active');

            // ØªØ­Ø¯ÙŠØ« Ø¹Ù†ÙˆØ§Ù† Ø§Ù„ØµÙØ­Ø©
            const titles = {
                'dashboard': 'Ù„ÙˆØ­Ø© Ø§Ù„Ù…Ø¹Ù„ÙˆÙ…Ø§Øª',
                'products': 'Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª',
                'orders': 'Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø·Ù„Ø¨Ø§Øª',
                'customers': 'Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø¹Ù…Ù„Ø§Ø¡',
                'analytics': 'Ø§Ù„ØªØ­Ù„ÙŠÙ„Ø§Øª ÙˆØ§Ù„ØªÙ‚Ø§Ø±ÙŠØ±',
                'store-design': 'ØªØµÙ…ÙŠÙ… Ø§Ù„Ù…ØªØ¬Ø±',
                'settings': 'Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª'
            };
            document.getElementById('pageTitle').textContent = titles[pageName];

            // ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø­Ø³Ø¨ Ø§Ù„ØµÙØ­Ø©
            if (adminSystem) {
                switch(pageName) {
                    case 'products':
                        adminSystem.updateProductsTable();
                        break;
                    case 'orders':
                        adminSystem.updateAllOrdersTable();
                        break;
                    case 'customers':
                        adminSystem.updateCustomersTable();
                        break;
                    case 'store-design':
                        loadStoreDesignSettings();
                        break;
                }
            }

            adminSystem.currentPage = pageName;
        }

        // Ø¥Ø¶Ø§ÙØ© Ù…Ø³ØªÙ…Ø¹ÙŠ Ø§Ù„Ø£Ø­Ø¯Ø§Ø« Ù„Ù„ØªÙ†Ù‚Ù„
        document.querySelectorAll('.nav-item').forEach(item => {
            item.addEventListener('click', function(e) {
                e.preventDefault();
                const page = this.getAttribute('data-page');
                showPage(page);
            });
        });

        // Ø¥Ø¶Ø§ÙØ© Ù…Ù†ØªØ¬
        function showAddProductModal() {
            document.getElementById('addProductModal').classList.add('show');
        }

        function closeAddProductModal() {
            document.getElementById('addProductModal').classList.remove('show');
            document.getElementById('addProductForm').reset();

            // ØªÙ†Ø¸ÙŠÙ Ù…Ø¹Ø§ÙŠÙ†Ø© Ø§Ù„ØµÙˆØ±Ø©
            removeProductImage();
            window.currentProductImage = null;
        }

        // Ù…Ø¹Ø§Ù„Ø¬ Ù†Ù…ÙˆØ°Ø¬ Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ù…Ù†ØªØ¬
        document.getElementById('addProductForm').addEventListener('submit', function(e) {
            e.preventDefault();

            // Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† ÙˆØ¬ÙˆØ¯ ØµÙˆØ±Ø©
            if (!window.currentProductImage) {
                showNotification('ÙŠØ±Ø¬Ù‰ Ø±ÙØ¹ ØµÙˆØ±Ø© Ù„Ù„Ù…Ù†ØªØ¬', 'error');
                return;
            }

            const product = {
                name: document.getElementById('productName').value,
                price: parseInt(document.getElementById('productPrice').value),
                category: document.getElementById('productCategory').value,
                stock: parseInt(document.getElementById('productStock').value),
                image: window.currentProductImage,
                description: document.getElementById('productDescription').value,
                featured: document.getElementById('productFeatured').checked
            };

            const newProduct = adminSystem.addProduct(product);
            console.log('ØªÙ… Ø¥Ø¶Ø§ÙØ© Ù…Ù†ØªØ¬ Ø¬Ø¯ÙŠØ¯:', newProduct);

            closeAddProductModal();

            // Ø¥Ø¸Ù‡Ø§Ø± Ø±Ø³Ø§Ù„Ø© Ù†Ø¬Ø§Ø­
            showNotification('ØªÙ… Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ù…Ù†ØªØ¬ Ø¨Ù†Ø¬Ø§Ø­!', 'success');

            // ØªØ­Ø¯ÙŠØ« ÙÙˆØ±ÙŠ Ù„Ù„Ù…ØªØ¬Ø± Ø¥Ø°Ø§ ÙƒØ§Ù† Ù…ÙØªÙˆØ­Ø§Ù‹ (Ù…Ø­Ø³Ù†)
            setTimeout(() => {
                adminSystem.notifyStoreUpdate();

                // Ø¥Ø´Ø¹Ø§Ø± Ø¥Ø¶Ø§ÙÙŠ Ù„Ù„ØªØ£ÙƒØ¯ Ù…Ù† Ø§Ù„Ù…Ø²Ø§Ù…Ù†Ø©
                const timestamp = Date.now().toString();
                localStorage.setItem('variteks_products_timestamp', timestamp);
                localStorage.setItem('variteks_store_sync_trigger', timestamp);
                localStorage.setItem('variteks_admin_sync_trigger', timestamp);
                localStorage.setItem('variteks_force_refresh', timestamp);

                console.log('ğŸ”” ØªÙ… Ø¥Ø±Ø³Ø§Ù„ Ø¥Ø´Ø¹Ø§Ø±Ø§Øª Ù…ØªØ¹Ø¯Ø¯Ø© Ù„Ù„Ù…ØªØ¬Ø±');
            }, 100);

            // Ø¥Ø´Ø¹Ø§Ø± Ø¥Ø¶Ø§ÙÙŠ Ø¨Ø¹Ø¯ Ø«Ø§Ù†ÙŠØ© Ù„Ù„ØªØ£ÙƒØ¯
            setTimeout(() => {
                adminSystem.notifyStoreUpdate();
                const timestamp2 = Date.now().toString();
                localStorage.setItem('variteks_products_final_sync', timestamp2);
                console.log('ğŸ”” Ø¥Ø´Ø¹Ø§Ø± ØªØ£ÙƒÙŠØ¯ÙŠ Ø¥Ø¶Ø§ÙÙŠ Ù„Ù„Ù…ØªØ¬Ø±');
            }, 1000);
        });

        // Ø¯ÙˆØ§Ù„ ØªØ¹Ø¯ÙŠÙ„ Ø§Ù„Ù…Ù†ØªØ¬
        function closeEditProductModal() {
            document.getElementById('editProductModal').classList.remove('show');
            document.getElementById('editProductForm').reset();

            // Ø¥Ø®ÙØ§Ø¡ Ù…Ø¹Ø§ÙŠÙ†Ø© Ø§Ù„ØµÙˆØ±Ø©
            document.getElementById('editProductImagePreview').style.display = 'none';
            document.querySelector('#editProductImageFile + .file-upload-label').style.display = 'flex';
            window.currentEditProductImage = null;
        }

        // Ø§Ù„ØªØ¹Ø§Ù…Ù„ Ù…Ø¹ Ø±ÙØ¹ ØµÙˆØ±Ø© Ø§Ù„ØªØ¹Ø¯ÙŠÙ„
        function handleEditProductImageUpload(input) {
            if (input.files && input.files[0]) {
                const file = input.files[0];
                const reader = new FileReader();

                reader.onload = function(e) {
                    const preview = document.getElementById('editProductImagePreview');
                    const previewImg = document.getElementById('editProductPreviewImg');

                    previewImg.src = e.target.result;
                    preview.style.display = 'block';
                    document.querySelector('#editProductImageFile + .file-upload-label').style.display = 'none';

                    window.currentEditProductImage = e.target.result;
                };

                reader.readAsDataURL(file);
            }
        }

        // Ø¥Ø²Ø§Ù„Ø© ØµÙˆØ±Ø© Ø§Ù„ØªØ¹Ø¯ÙŠÙ„
        function removeEditProductImage() {
            document.getElementById('editProductImagePreview').style.display = 'none';
            document.querySelector('#editProductImageFile + .file-upload-label').style.display = 'flex';
            document.getElementById('editProductImageFile').value = '';
            window.currentEditProductImage = null;
        }

        // Ù…Ø¹Ø§Ù„Ø¬ Ù†Ù…ÙˆØ°Ø¬ ØªØ¹Ø¯ÙŠÙ„ Ø§Ù„Ù…Ù†ØªØ¬
        document.getElementById('editProductForm').addEventListener('submit', function(e) {
            e.preventDefault();

            const productId = parseInt(document.getElementById('editProductId').value);
            const updatedProduct = {
                name: document.getElementById('editProductName').value,
                price: parseFloat(document.getElementById('editProductPrice').value),
                category: document.getElementById('editProductCategory').value,
                stock: parseInt(document.getElementById('editProductStock').value),
                description: document.getElementById('editProductDescription').value,
                featured: document.getElementById('editProductFeatured').checked,
                image: window.currentEditProductImage || adminSystem.products.find(p => p.id === productId)?.image
            };

            const updated = adminSystem.updateProduct(productId, updatedProduct);
            if (updated) {
                console.log('ØªÙ… ØªØ­Ø¯ÙŠØ« Ø§Ù„Ù…Ù†ØªØ¬:', updated);
                closeEditProductModal();
                showNotification('ØªÙ… ØªØ­Ø¯ÙŠØ« Ø§Ù„Ù…Ù†ØªØ¬ Ø¨Ù†Ø¬Ø§Ø­!', 'success');

                // ØªØ­Ø¯ÙŠØ« ÙÙˆØ±ÙŠ Ù„Ù„Ù…ØªØ¬Ø±
                setTimeout(() => {
                    adminSystem.notifyStoreUpdate();
                }, 100);
            } else {
                showNotification('Ø­Ø¯Ø« Ø®Ø·Ø£ ÙÙŠ ØªØ­Ø¯ÙŠØ« Ø§Ù„Ù…Ù†ØªØ¬!', 'error');
            }
        });

        // Ø¥Ø¸Ù‡Ø§Ø± Ø§Ù„Ø¥Ø´Ø¹Ø§Ø±Ø§Øª
        function showNotification(message, type = 'success') {
            const notification = document.createElement('div');

            let bgColor, textColor;
            switch(type) {
                case 'success':
                    bgColor = '#dcfce7';
                    textColor = '#166534';
                    break;
                case 'error':
                    bgColor = '#fee2e2';
                    textColor = '#991b1b';
                    break;
                default:
                    bgColor = '#dbeafe';
                    textColor = '#1e40af';
            }

            notification.style.cssText = `
                position: fixed;
                top: 20px;
                right: 20px;
                background: ${bgColor};
                color: ${textColor};
                padding: 1rem;
                border-radius: 8px;
                box-shadow: 0 4px 12px rgba(0,0,0,0.15);
                z-index: 3000;
                font-weight: 500;
                max-width: 300px;
            `;
            notification.textContent = message;

            document.body.appendChild(notification);

            setTimeout(() => {
                if (document.body.contains(notification)) {
                    document.body.removeChild(notification);
                }
            }, 4000);
        }

        // ÙØªØ­ Ø§Ù„Ù…ØªØ¬Ø± (Ù…Ø­Ø³Ù† Ù„Ù„Ø´Ø¨ÙƒØ©)
        function openStore() {
            console.log('ğŸª ÙØªØ­ Ø§Ù„Ù…ØªØ¬Ø±...');

            // Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„Ø¹Ù†ÙˆØ§Ù† Ø§Ù„Ø­Ø§Ù„ÙŠ Ù„Ù„Ø®Ø§Ø¯Ù…
            const currentUrl = window.location;
            const storeUrl = `${currentUrl.protocol}//${currentUrl.host}/store`;

            const storeWindow = window.open(storeUrl, '_blank', 'width=1200,height=800');

            // ØªØ³Ø¬ÙŠÙ„ Ù†Ø§ÙØ°Ø© Ø§Ù„Ù…ØªØ¬Ø± Ù„Ù„ØªØ­Ø¯ÙŠØ«Ø§Øª
            if (!window.storeWindows) {
                window.storeWindows = [];
            }

            // ØªÙ†Ø¸ÙŠÙ Ø§Ù„Ù†ÙˆØ§ÙØ° Ø§Ù„Ù…ØºÙ„Ù‚Ø© Ø£ÙˆÙ„Ø§Ù‹
            window.storeWindows = window.storeWindows.filter(w => w && !w.closed);

            // Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ù†Ø§ÙØ°Ø© Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø©
            window.storeWindows.push(storeWindow);

            // Ø¥Ø´Ø¹Ø§Ø± ÙÙˆØ±ÙŠ Ø¨Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª Ø§Ù„Ø­Ø§Ù„ÙŠØ© Ø¹Ù†Ø¯ ÙØªØ­ Ø§Ù„Ù…ØªØ¬Ø±
            setTimeout(() => {
                if (storeWindow && !storeWindow.closed) {
                    storeWindow.postMessage({
                        type: 'PRODUCTS_UPDATED',
                        products: adminSystem.products,
                        timestamp: Date.now(),
                        source: 'admin_panel_init'
                    }, '*');

                    console.log('ğŸ“¤ ØªÙ… Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª Ø§Ù„Ø­Ø§Ù„ÙŠØ© Ù„Ù„Ù…ØªØ¬Ø± Ø§Ù„Ø¬Ø¯ÙŠØ¯');
                }
            }, 1000);

            // Ù…Ø±Ø§Ù‚Ø¨Ø© Ø­Ø§Ù„Ø© Ø§Ù„Ù†Ø§ÙØ°Ø©
            const checkWindow = setInterval(() => {
                if (storeWindow.closed) {
                    clearInterval(checkWindow);
                    window.storeWindows = window.storeWindows.filter(w => w !== storeWindow);
                    console.log('ğŸ”’ ØªÙ… Ø¥ØºÙ„Ø§Ù‚ Ù†Ø§ÙØ°Ø© Ø§Ù„Ù…ØªØ¬Ø±');
                }
            }, 1000);

            showNotification('ØªÙ… ÙØªØ­ Ø§Ù„Ù…ØªØ¬Ø± ÙÙŠ Ù†Ø§ÙØ°Ø© Ø¬Ø¯ÙŠØ¯Ø©!', 'success');
        }

        // Ù…Ø²Ø§Ù…Ù†Ø© ÙÙˆØ±ÙŠØ© Ù…Ø¹ Ø§Ù„Ù…ØªØ¬Ø±
        function forceSyncStore() {
            console.log('ğŸ”„ Ø¨Ø¯Ø¡ Ø§Ù„Ù…Ø²Ø§Ù…Ù†Ø© Ø§Ù„ÙÙˆØ±ÙŠØ© Ù…Ø¹ Ø§Ù„Ù…ØªØ¬Ø±...');

            // Ø¥Ø´Ø¹Ø§Ø± Ø¬Ù…ÙŠØ¹ Ù†ÙˆØ§ÙØ° Ø§Ù„Ù…ØªØ¬Ø± Ø§Ù„Ù…ÙØªÙˆØ­Ø©
            const storeWindows = window.storeWindows || [];
            let syncedWindows = 0;

            storeWindows.forEach(storeWindow => {
                if (storeWindow && !storeWindow.closed) {
                    // Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø­Ø¯Ø«Ø©
                    storeWindow.postMessage({
                        type: 'PRODUCTS_UPDATED',
                        products: adminSystem.products,
                        timestamp: Date.now(),
                        source: 'force_sync'
                    }, '*');

                    storeWindow.postMessage({
                        type: 'ADMIN_SYNC_REQUEST',
                        timestamp: Date.now()
                    }, '*');

                    syncedWindows++;
                }
            });

            // ØªØ­Ø¯ÙŠØ« localStorage Ù…Ø¹ timestamps Ø¬Ø¯ÙŠØ¯Ø©
            const timestamp = Date.now().toString();
            const syncTriggers = [
                'variteks_products_timestamp',
                'variteks_store_sync_trigger',
                'variteks_admin_sync_trigger',
                'variteks_force_refresh',
                'variteks_products_sync_check',
                'variteks_products_update_trigger',
                'variteks_products_delayed_sync',
                'variteks_products_final_sync'
            ];

            syncTriggers.forEach(trigger => {
                localStorage.setItem(trigger, timestamp);
            });

            // Ø­ÙØ¸ Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª Ù…Ø±Ø© Ø£Ø®Ø±Ù‰ Ù„Ù„ØªØ£ÙƒØ¯
            localStorage.setItem('variteks_products', JSON.stringify(adminSystem.products));

            // Ø¥Ø´Ø¹Ø§Ø± Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…
            if (syncedWindows > 0) {
                showNotification(`ØªÙ… Ù…Ø²Ø§Ù…Ù†Ø© ${syncedWindows} Ù†Ø§ÙØ°Ø© Ù…ØªØ¬Ø±!`, 'success');
            } else {
                showNotification('Ù„Ø§ ØªÙˆØ¬Ø¯ Ù†ÙˆØ§ÙØ° Ù…ØªØ¬Ø± Ù…ÙØªÙˆØ­Ø© Ù„Ù„Ù…Ø²Ø§Ù…Ù†Ø©', 'info');
            }

            console.log(`âœ… ØªÙ… Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ù…Ø²Ø§Ù…Ù†Ø© Ø¥Ù„Ù‰ ${syncedWindows} Ù†Ø§ÙØ°Ø©`);
        }

        // ØªØ­Ø¯ÙŠØ« Ø§Ù„Ù‚Ø³Ù… Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠ
        function updateHeroSection() {
            const settings = adminSystem.loadStoreSettings();
            settings.heroTitle = document.getElementById('heroTitle').value;
            settings.heroDescription = document.getElementById('heroDescription').value;

            // Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„ØµÙˆØ±Ø© Ø§Ù„Ù…Ø±ÙÙˆØ¹Ø© Ø¥Ø°Ø§ ÙƒØ§Ù†Øª Ù…ÙˆØ¬ÙˆØ¯Ø©
            if (window.currentHeroImage) {
                settings.heroBackground = window.currentHeroImage;
            }

            adminSystem.saveStoreSettings(settings);
            showNotification('ØªÙ… ØªØ­Ø¯ÙŠØ« Ø§Ù„Ù‚Ø³Ù… Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠ Ø¨Ù†Ø¬Ø§Ø­!', 'success');
        }

        // ØªØ­Ø¯ÙŠØ« Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ù…ØªØ¬Ø±
        function updateStoreInfo() {
            const settings = adminSystem.loadStoreSettings();
            settings.storeName = document.getElementById('storeName').value;
            settings.storeLogo = document.getElementById('storeLogo').value;
            settings.storeTagline = document.getElementById('storeTagline').value;
            settings.storePhone = document.getElementById('storePhone').value;
            settings.storeEmail = document.getElementById('storeEmail').value;

            adminSystem.saveStoreSettings(settings);
            showNotification('ØªÙ… ØªØ­Ø¯ÙŠØ« Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ù…ØªØ¬Ø± Ø¨Ù†Ø¬Ø§Ø­!', 'success');
        }

        // ØªØ­Ø¯ÙŠØ« Ø£Ù„ÙˆØ§Ù† Ø§Ù„Ù…ØªØ¬Ø±
        function updateStoreColors() {
            const settings = adminSystem.loadStoreSettings();
            settings.primaryColor = document.getElementById('primaryColor').value;
            settings.secondaryColor = document.getElementById('secondaryColor').value;
            settings.accentColor = document.getElementById('accentColor').value;

            // ØªØ­Ø¯ÙŠØ« Ø§Ù„Ù†ØµÙˆØµ ÙÙŠ Ø­Ù‚ÙˆÙ„ Ø§Ù„Ø£Ù„ÙˆØ§Ù†
            document.querySelector('#primaryColor + input').value = settings.primaryColor;
            document.querySelector('#secondaryColor + input').value = settings.secondaryColor;
            document.querySelector('#accentColor + input').value = settings.accentColor;

            adminSystem.saveStoreSettings(settings);
            showNotification('ØªÙ… ØªØ­Ø¯ÙŠØ« Ø£Ù„ÙˆØ§Ù† Ø§Ù„Ù…ØªØ¬Ø± Ø¨Ù†Ø¬Ø§Ø­!', 'success');
        }

        // Ø§Ø³ØªØ¹Ø§Ø¯Ø© Ø§Ù„Ø£Ù„ÙˆØ§Ù† Ø§Ù„Ø§ÙØªØ±Ø§Ø¶ÙŠØ©
        function resetToDefaultColors() {
            document.getElementById('primaryColor').value = '#228B22';
            document.getElementById('secondaryColor').value = '#FFD700';
            document.getElementById('accentColor').value = '#DC143C';

            document.querySelector('#primaryColor + input').value = '#228B22';
            document.querySelector('#secondaryColor + input').value = '#FFD700';
            document.querySelector('#accentColor + input').value = '#DC143C';

            updateStoreColors();
        }

        // ØªØ­Ø¯ÙŠØ« Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„ØªØ°ÙŠÙŠÙ„
        function updateFooterSettings() {
            const settings = adminSystem.loadStoreSettings();
            settings.copyrightText = document.getElementById('copyrightText').value;
            settings.storeAddress = document.getElementById('storeAddress').value;
            settings.facebookLink = document.getElementById('facebookLink').value;
            settings.instagramLink = document.getElementById('instagramLink').value;
            settings.twitterLink = document.getElementById('twitterLink').value;
            settings.whatsappLink = document.getElementById('whatsappLink').value;

            adminSystem.saveStoreSettings(settings);
            showNotification('ØªÙ… ØªØ­Ø¯ÙŠØ« Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„ØªØ°ÙŠÙŠÙ„ Ø¨Ù†Ø¬Ø§Ø­!', 'success');
        }

        // ØªØ­Ù…ÙŠÙ„ Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„ØªØµÙ…ÙŠÙ… ÙÙŠ Ø§Ù„ØµÙØ­Ø©
        function loadStoreDesignSettings() {
            const settings = adminSystem.loadStoreSettings();

            document.getElementById('heroTitle').value = settings.heroTitle;
            document.getElementById('heroDescription').value = settings.heroDescription;

            // Ø¹Ø±Ø¶ ØµÙˆØ±Ø© Ø§Ù„Ø®Ù„ÙÙŠØ© Ø¥Ø°Ø§ ÙƒØ§Ù†Øª Ù…ÙˆØ¬ÙˆØ¯Ø©
            if (settings.heroBackground) {
                const preview = document.getElementById('heroImagePreview');
                const previewImg = document.getElementById('heroPreviewImg');

                previewImg.src = settings.heroBackground;
                preview.style.display = 'block';
                document.querySelector('#heroBackgroundFile + .file-upload-label').style.display = 'none';
                window.currentHeroImage = settings.heroBackground;
            }
            document.getElementById('storeName').value = settings.storeName;
            document.getElementById('storeLogo').value = settings.storeLogo;
            document.getElementById('storeTagline').value = settings.storeTagline;
            document.getElementById('storePhone').value = settings.storePhone;
            document.getElementById('storeEmail').value = settings.storeEmail;
            document.getElementById('primaryColor').value = settings.primaryColor;
            document.getElementById('secondaryColor').value = settings.secondaryColor;
            document.getElementById('accentColor').value = settings.accentColor;
            document.getElementById('copyrightText').value = settings.copyrightText;
            document.getElementById('storeAddress').value = settings.storeAddress;
            document.getElementById('facebookLink').value = settings.facebookLink;
            document.getElementById('instagramLink').value = settings.instagramLink;
            document.getElementById('twitterLink').value = settings.twitterLink;
            document.getElementById('whatsappLink').value = settings.whatsappLink;

            // ØªØ­Ø¯ÙŠØ« Ø§Ù„Ù†ØµÙˆØµ ÙÙŠ Ø­Ù‚ÙˆÙ„ Ø§Ù„Ø£Ù„ÙˆØ§Ù†
            document.querySelector('#primaryColor + input').value = settings.primaryColor;
            document.querySelector('#secondaryColor + input').value = settings.secondaryColor;
            document.querySelector('#accentColor + input').value = settings.accentColor;
        }

        // Ù…Ø¹Ø§Ù„Ø¬Ø© Ø±ÙØ¹ ØµÙˆØ±Ø© Ø§Ù„Ù…Ù†ØªØ¬
        async function handleProductImageUpload(input) {
            const file = input.files[0];
            if (!file) return;

            // Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ù†ÙˆØ¹ Ø§Ù„Ù…Ù„Ù
            if (!file.type.startsWith('image/')) {
                showNotification('ÙŠØ±Ø¬Ù‰ Ø§Ø®ØªÙŠØ§Ø± Ù…Ù„Ù ØµÙˆØ±Ø© ØµØ­ÙŠØ­', 'error');
                return;
            }

            // Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø­Ø¬Ù… Ø§Ù„Ù…Ù„Ù (5MB max)
            if (file.size > 5 * 1024 * 1024) {
                showNotification('Ø­Ø¬Ù… Ø§Ù„ØµÙˆØ±Ø© ÙƒØ¨ÙŠØ± Ø¬Ø¯Ø§Ù‹. Ø§Ù„Ø­Ø¯ Ø§Ù„Ø£Ù‚ØµÙ‰ 5MB', 'error');
                return;
            }

            try {
                // Ø¶ØºØ· Ø§Ù„ØµÙˆØ±Ø©
                const compressedFile = await adminSystem.compressImage(file);

                // ØªØ­ÙˆÙŠÙ„ Ø¥Ù„Ù‰ Base64
                const base64 = await adminSystem.convertImageToBase64(compressedFile);

                // Ø¹Ø±Ø¶ Ø§Ù„Ù…Ø¹Ø§ÙŠÙ†Ø©
                const preview = document.getElementById('productImagePreview');
                const previewImg = document.getElementById('productPreviewImg');

                previewImg.src = base64;
                preview.style.display = 'block';

                // Ø¥Ø®ÙØ§Ø¡ Ù…Ù†Ø·Ù‚Ø© Ø§Ù„Ø±ÙØ¹
                document.querySelector('#productImageFile + .file-upload-label').style.display = 'none';

                // Ø­ÙØ¸ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª
                window.currentProductImage = base64;

                showNotification('ØªÙ… Ø±ÙØ¹ Ø§Ù„ØµÙˆØ±Ø© Ø¨Ù†Ø¬Ø§Ø­!', 'success');

            } catch (error) {
                console.error('Ø®Ø·Ø£ ÙÙŠ Ø±ÙØ¹ Ø§Ù„ØµÙˆØ±Ø©:', error);
                showNotification('Ø­Ø¯Ø« Ø®Ø·Ø£ ÙÙŠ Ø±ÙØ¹ Ø§Ù„ØµÙˆØ±Ø©', 'error');
            }
        }

        // Ø¥Ø²Ø§Ù„Ø© ØµÙˆØ±Ø© Ø§Ù„Ù…Ù†ØªØ¬
        function removeProductImage() {
            document.getElementById('productImagePreview').style.display = 'none';
            document.querySelector('#productImageFile + .file-upload-label').style.display = 'flex';
            document.getElementById('productImageFile').value = '';
            window.currentProductImage = null;
        }

        // Ù…Ø¹Ø§Ù„Ø¬Ø© Ø±ÙØ¹ ØµÙˆØ±Ø© Ø®Ù„ÙÙŠØ© Ø§Ù„Ù‚Ø³Ù… Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠ
        async function handleHeroImageUpload(input) {
            const file = input.files[0];
            if (!file) return;

            // Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ù†ÙˆØ¹ Ø§Ù„Ù…Ù„Ù
            if (!file.type.startsWith('image/')) {
                showNotification('ÙŠØ±Ø¬Ù‰ Ø§Ø®ØªÙŠØ§Ø± Ù…Ù„Ù ØµÙˆØ±Ø© ØµØ­ÙŠØ­', 'error');
                return;
            }

            // Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø­Ø¬Ù… Ø§Ù„Ù…Ù„Ù (10MB max Ù„Ù„Ø®Ù„ÙÙŠØ©)
            if (file.size > 10 * 1024 * 1024) {
                showNotification('Ø­Ø¬Ù… Ø§Ù„ØµÙˆØ±Ø© ÙƒØ¨ÙŠØ± Ø¬Ø¯Ø§Ù‹. Ø§Ù„Ø­Ø¯ Ø§Ù„Ø£Ù‚ØµÙ‰ 10MB', 'error');
                return;
            }

            try {
                // Ø¶ØºØ· Ø§Ù„ØµÙˆØ±Ø© Ø¨Ø¬ÙˆØ¯Ø© Ø£Ø¹Ù„Ù‰ Ù„Ù„Ø®Ù„ÙÙŠØ©
                const compressedFile = await adminSystem.compressImage(file, 1200, 0.9);

                // ØªØ­ÙˆÙŠÙ„ Ø¥Ù„Ù‰ Base64
                const base64 = await adminSystem.convertImageToBase64(compressedFile);

                // Ø¹Ø±Ø¶ Ø§Ù„Ù…Ø¹Ø§ÙŠÙ†Ø©
                const preview = document.getElementById('heroImagePreview');
                const previewImg = document.getElementById('heroPreviewImg');

                previewImg.src = base64;
                preview.style.display = 'block';

                // Ø¥Ø®ÙØ§Ø¡ Ù…Ù†Ø·Ù‚Ø© Ø§Ù„Ø±ÙØ¹
                document.querySelector('#heroBackgroundFile + .file-upload-label').style.display = 'none';

                // Ø­ÙØ¸ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª
                window.currentHeroImage = base64;

                showNotification('ØªÙ… Ø±ÙØ¹ ØµÙˆØ±Ø© Ø§Ù„Ø®Ù„ÙÙŠØ© Ø¨Ù†Ø¬Ø§Ø­!', 'success');

            } catch (error) {
                console.error('Ø®Ø·Ø£ ÙÙŠ Ø±ÙØ¹ Ø§Ù„ØµÙˆØ±Ø©:', error);
                showNotification('Ø­Ø¯Ø« Ø®Ø·Ø£ ÙÙŠ Ø±ÙØ¹ Ø§Ù„ØµÙˆØ±Ø©', 'error');
            }
        }

        // Ø¥Ø²Ø§Ù„Ø© ØµÙˆØ±Ø© Ø§Ù„Ø®Ù„ÙÙŠØ©
        function removeHeroImage() {
            document.getElementById('heroImagePreview').style.display = 'none';
            document.querySelector('#heroBackgroundFile + .file-upload-label').style.display = 'flex';
            document.getElementById('heroBackgroundFile').value = '';
            window.currentHeroImage = null;
        }

        // ØªØ­Ø¯ÙŠØ« Ù‚ÙŠÙ… Ø§Ù„Ø£Ù„ÙˆØ§Ù† Ø¹Ù†Ø¯ Ø§Ù„ØªØºÙŠÙŠØ±
        document.addEventListener('DOMContentLoaded', function() {
            ['primaryColor', 'secondaryColor', 'accentColor'].forEach(id => {
                const colorInput = document.getElementById(id);
                if (colorInput) {
                    colorInput.addEventListener('input', function() {
                        const textInput = this.nextElementSibling;
                        if (textInput) {
                            textInput.value = this.value;
                        }
                    });
                }
            });
        });

        // Ø¯ÙˆØ§Ù„ Ø§Ù„ØªØ­ÙƒÙ… ÙÙŠ Ø¬Ø¯ÙˆÙ„ Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª
        function filterProducts() {
            adminSystem.currentPage = 1;
            adminSystem.renderProductsTable();
        }

        function sortProducts(field) {
            if (adminSystem.sortField === field) {
                adminSystem.sortDirection = adminSystem.sortDirection === 'asc' ? 'desc' : 'asc';
            } else {
                adminSystem.sortField = field;
                adminSystem.sortDirection = 'asc';
            }
            adminSystem.renderProductsTable();
        }

        function changePage(page) {
            adminSystem.currentPage = page;
            adminSystem.renderProductsPage();
            adminSystem.updatePagination();
        }

        function toggleSelectAll() {
            const selectAll = document.getElementById('selectAll');
            const startIndex = (adminSystem.currentPage - 1) * adminSystem.itemsPerPage;
            const endIndex = startIndex + adminSystem.itemsPerPage;
            const pageProducts = adminSystem.filteredProducts.slice(startIndex, endIndex);

            if (selectAll.checked) {
                pageProducts.forEach(product => adminSystem.selectedProducts.add(product.id));
            } else {
                pageProducts.forEach(product => adminSystem.selectedProducts.delete(product.id));
            }

            adminSystem.renderProductsPage();
        }

        function toggleProductSelection(productId) {
            if (adminSystem.selectedProducts.has(productId)) {
                adminSystem.selectedProducts.delete(productId);
            } else {
                adminSystem.selectedProducts.add(productId);
            }
            adminSystem.updateBulkActions();

            // ØªØ­Ø¯ÙŠØ« ØµÙ Ø§Ù„Ù…Ù†ØªØ¬
            const row = event.target.closest('tr');
            if (adminSystem.selectedProducts.has(productId)) {
                row.classList.add('selected');
            } else {
                row.classList.remove('selected');
            }
        }

        // ØªØ¹Ø¯ÙŠÙ„ Ù…Ù†ØªØ¬
        function editProduct(productId) {
            const product = adminSystem.products.find(p => p.id === productId);
            if (!product) return;

            // Ù…Ù„Ø¡ Ø§Ù„Ù†Ù…ÙˆØ°Ø¬ Ø¨Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø­Ø§Ù„ÙŠØ©
            document.getElementById('editProductId').value = product.id;
            document.getElementById('editProductName').value = product.name;
            document.getElementById('editProductPrice').value = product.price;
            document.getElementById('editProductCategory').value = product.category;
            document.getElementById('editProductStock').value = product.stock;
            document.getElementById('editProductDescription').value = product.description || '';
            document.getElementById('editProductFeatured').checked = product.featured;

            // Ø¹Ø±Ø¶ Ø§Ù„ØµÙˆØ±Ø© Ø§Ù„Ø­Ø§Ù„ÙŠØ©
            if (product.image) {
                const preview = document.getElementById('editProductImagePreview');
                const previewImg = document.getElementById('editProductPreviewImg');
                previewImg.src = product.image;
                preview.style.display = 'block';
                document.querySelector('#editProductImageFile + .file-upload-label').style.display = 'none';
                window.currentEditProductImage = product.image;
            }

            // Ø¹Ø±Ø¶ Ø§Ù„Ù†Ø§ÙØ°Ø©
            document.getElementById('editProductModal').classList.add('show');
        }

        // Ù†Ø³Ø® Ù…Ù†ØªØ¬
        function duplicateProduct(productId) {
            if (confirm('Ù‡Ù„ ØªØ±ÙŠØ¯ Ø¥Ù†Ø´Ø§Ø¡ Ù†Ø³Ø®Ø© Ù…Ù† Ù‡Ø°Ø§ Ø§Ù„Ù…Ù†ØªØ¬ØŸ')) {
                const duplicated = adminSystem.duplicateProduct(productId);
                if (duplicated) {
                    showNotification('ØªÙ… Ø¥Ù†Ø´Ø§Ø¡ Ù†Ø³Ø®Ø© Ù…Ù† Ø§Ù„Ù…Ù†ØªØ¬ Ø¨Ù†Ø¬Ø§Ø­!', 'success');
                }
            }
        }

        // ØªØ¨Ø¯ÙŠÙ„ Ø­Ø§Ù„Ø© Ø§Ù„Ù…Ù†ØªØ¬ Ø§Ù„Ù…Ù…ÙŠØ²
        function toggleProductFeatured(productId) {
            const product = adminSystem.products.find(p => p.id === productId);
            if (product) {
                const newFeaturedStatus = !product.featured;
                adminSystem.updateProduct(productId, { featured: newFeaturedStatus });
                showNotification(
                    newFeaturedStatus ? 'ØªÙ… ØªÙ…ÙŠÙŠØ² Ø§Ù„Ù…Ù†ØªØ¬!' : 'ØªÙ… Ø¥Ù„ØºØ§Ø¡ ØªÙ…ÙŠÙŠØ² Ø§Ù„Ù…Ù†ØªØ¬!',
                    'success'
                );
            }
        }

        // Ø­Ø°Ù Ù…Ù†ØªØ¬
        function deleteProduct(productId) {
            const product = adminSystem.products.find(p => p.id === productId);
            if (product && confirm(`Ù‡Ù„ Ø£Ù†Øª Ù…ØªØ£ÙƒØ¯ Ù…Ù† Ø­Ø°Ù "${product.name}"ØŸ`)) {
                adminSystem.deleteProduct(productId);
                showNotification('ØªÙ… Ø­Ø°Ù Ø§Ù„Ù…Ù†ØªØ¬ Ø¨Ù†Ø¬Ø§Ø­!', 'success');
            }
        }

        // Ø¥Ø¬Ø±Ø§Ø¡Ø§Øª Ù…Ø¬Ù…Ø¹Ø©
        function bulkToggleFeatured() {
            if (adminSystem.selectedProducts.size === 0) return;

            adminSystem.selectedProducts.forEach(productId => {
                const product = adminSystem.products.find(p => p.id === productId);
                if (product) {
                    product.featured = !product.featured;
                }
            });

            adminSystem.saveProducts();
            adminSystem.updateProductsTable();
            adminSystem.selectedProducts.clear();
            showNotification('ØªÙ… ØªØ­Ø¯ÙŠØ« Ø­Ø§Ù„Ø© Ø§Ù„ØªÙ…ÙŠÙŠØ² Ù„Ù„Ù…Ù†ØªØ¬Ø§Øª Ø§Ù„Ù…Ø­Ø¯Ø¯Ø©!', 'success');
        }

        function bulkUpdateStock() {
            if (adminSystem.selectedProducts.size === 0) return;

            const newStock = prompt('Ø£Ø¯Ø®Ù„ Ø§Ù„ÙƒÙ…ÙŠØ© Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø© Ù„Ù„Ù…Ø®Ø²ÙˆÙ†:');
            if (newStock && !isNaN(newStock) && newStock >= 0) {
                adminSystem.selectedProducts.forEach(productId => {
                    const product = adminSystem.products.find(p => p.id === productId);
                    if (product) {
                        product.stock = parseInt(newStock);
                    }
                });

                adminSystem.saveProducts();
                adminSystem.updateProductsTable();
                adminSystem.selectedProducts.clear();
                showNotification('ØªÙ… ØªØ­Ø¯ÙŠØ« Ø§Ù„Ù…Ø®Ø²ÙˆÙ† Ù„Ù„Ù…Ù†ØªØ¬Ø§Øª Ø§Ù„Ù…Ø­Ø¯Ø¯Ø©!', 'success');
            }
        }

        function bulkDeleteProducts() {
            if (adminSystem.selectedProducts.size === 0) return;

            if (confirm(`Ù‡Ù„ Ø£Ù†Øª Ù…ØªØ£ÙƒØ¯ Ù…Ù† Ø­Ø°Ù ${adminSystem.selectedProducts.size} Ù…Ù†ØªØ¬ØŸ`)) {
                adminSystem.selectedProducts.forEach(productId => {
                    adminSystem.deleteProduct(productId);
                });

                adminSystem.selectedProducts.clear();
                showNotification('ØªÙ… Ø­Ø°Ù Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª Ø§Ù„Ù…Ø­Ø¯Ø¯Ø© Ø¨Ù†Ø¬Ø§Ø­!', 'success');
            }
        }

        function exportProducts() {
            const csvContent = "data:text/csv;charset=utf-8," +
                "Ø§Ø³Ù… Ø§Ù„Ù…Ù†ØªØ¬,Ø§Ù„Ø³Ø¹Ø±,Ø§Ù„ÙØ¦Ø©,Ø§Ù„Ù…Ø®Ø²ÙˆÙ†,Ù…Ù…ÙŠØ²,ØªØ§Ø±ÙŠØ® Ø§Ù„Ø¥Ø¶Ø§ÙØ©\n" +
                adminSystem.products.map(p =>
                    `"${p.name}",${p.price},"${p.category}",${p.stock},${p.featured ? 'Ù†Ø¹Ù…' : 'Ù„Ø§'},"${new Date(p.createdAt).toLocaleDateString('ar-SA')}"`
                ).join('\n');

            const encodedUri = encodeURI(csvContent);
            const link = document.createElement('a');
            link.setAttribute('href', encodedUri);
            link.setAttribute('download', 'products.csv');
            document.body.appendChild(link);
            link.click();
            document.body.removeChild(link);
        }

        // ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø®Ø±ÙˆØ¬
        function logout() {
            if (confirm('Ù‡Ù„ Ø£Ù†Øª Ù…ØªØ£ÙƒØ¯ Ù…Ù† ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø®Ø±ÙˆØ¬ØŸ')) {
                location.reload();
            }
        }
    </script>
</body>
</html>